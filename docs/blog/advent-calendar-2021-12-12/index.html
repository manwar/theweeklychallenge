<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Advent Calendar - December 12, 2021.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advent Calendar - December 12, 2021</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Advent Calendar - December 12, 2021</h2>
                    <div class="portfolio-meta">
                        <span>Sunday, Dec 12, 2021</span>|
                        <span> Tags:
                            Perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/2021-12-12.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <h2 id="advent-calendar-2021blogadvent-calendar-2021"><a href="/blog/advent-calendar-2021"><strong>Advent Calendar 2021</strong></a></h2>
<h3 id="-day-11blogadvent-calendar-2021-12-11--day-12--day-13blogadvent-calendar-2021-12-13-">| <a href="/blog/advent-calendar-2021-12-11"><strong>Day 11</strong></a> | <strong>Day 12</strong> | <a href="/blog/advent-calendar-2021-12-13"><strong>Day 13</strong></a> |</h3>
<hr>
<p>The gift is presented by <a href="/blog/meet-the-champion-2020-08"><strong>Cheok-Yin Fung</strong></a>. Today he is talking about his solution to <a href="/blog/perl-weekly-challenge-123"><strong>&ldquo;The Weekly Challenge - 123&rdquo;</strong></a>. This is re-produced for <strong>Advent Calendar 2021</strong> from the original <a href="https://e7-87-83.github.io/coding/challenge_123.html"><strong>post</strong></a> by <code>Cheok-Yin Fung</code>.</p>
<hr>
<br>
<h2 id="task-2-square-points">Task #2: Square Points</h2>
<br>
<p>You are given coordinates of four points i.e. (x1, y1), (x2, y2), (x3, y3) and (x4, y4).</p>
<p>Write a script to find out if the given four points form a square.</p>
<br>
<hr>
<br>
<p>After seeing the task statements I immediately decided to extend it as a <code>square+cube+hypercube</code> task in arbitary dimensions!</p>
<br>
<h3 id="math-fun-on-the-geometry-of-3d-and-4d-space">Math Fun: On the Geometry of 3D and 4D space</h3>
<br>
<p><img src="/images/blog/2021-12-12-hypercube_ori.png" alt="Hypercube"></p>
<br>
<p>Hey, do allow me introduce two cool terms I recently learnt: <code>&quot;ana&quot;</code> and <code>&quot;kata&quot;</code>. In an Euclidean 3D space, which most of us believe ourselves are familiar with, we can have <code>Up/Down/North/East/South/West</code> (or <code>Up/Down/Back/Left/Front/Right</code>, esp. if you have played <code>Rubik's Cube</code>). In <code>4D</code>, there is one more axis, thus two more directions we can have, and some mathematicians assign <code>&quot;ana&quot;</code> and <code>&quot;kata&quot;</code> as the names for those directions.</p>
<p>[Need not to fancy too much about <code>&quot;time as the fourth dimension&quot;</code>&hellip; The <code>&quot;metric&quot;</code> for measuring distance used by physicists for the dimension of time is called <code>Minkowski</code> metric (generalized: <code>Lorentzian</code> metric). And that <code>&quot;4D world&quot;</code> is called <code>Minkowski</code> spacetime.]</p>
<p>In my submitted codes, <code>A/K/U/D/N/E/S/W</code> are used; the <code>South-East-Down</code> point is picked to be the initial point for vector calculation in <code>3D</code> and the <code>Kata-South-East-Down</code> point is picked for the same purpose in <code>4D</code>.</p>
<br>
<h3 id="properties-of-squares-and-cubes-and-a-primitive-algorithm">Properties of Squares (and Cubes) and a Primitive Algorithm</h3>
<br>
<p>A <code>quadrilateral</code> with <code>4 sides</code> equal can be a <code>rhombus</code> but not a <code>square</code>.</p>
<p>A <code>polyhedron</code> with its <code>12 sides</code> equal can be a <code>parallelepiped</code> but not a <code>cube</code>.</p>
<p>To conclude, we have to get more details besides calculations of the lengths of edges.</p>
<p>Before jumping to the next section about <code>cube-check</code> and <code>hypercube-check</code>, we may have to consider checking for the <code>square</code> first.</p>
<p>Let a be the length of an edge of the regular <code>&quot;cube-like&quot;</code> polytope.</p>
<p>Though edges are not sufficient conditions for proving/disproving whether a polytope(the umbrella term for polygon, polyhedron, &hellip;) is a <code>&quot;cube-like&quot;</code> polytope, it seems that we must know their lengths and check whether they are equal. All we have on hand is the coordinates of vertices, without given their <code>&quot;order&quot;</code> in the plane/space.</p>
<p>Discuss the case of a square. We name the vertices are <code>p0</code>, <code>p1</code>, <code>p2</code>, and <code>p3</code>. We have the segment between <code>pm</code> and <code>pn</code> can be either an <code>edge</code> or a <code>diagonal</code>. We have <code>6 segments</code> to consider. And we know from high school math that <code>sqrt(2)*a</code> is the length of the diagonal.</p>
<p>As mentioned, an <code>edge-equal quadrilaternal</code> can be a <code>rhombus</code>. But if we additionally consider the length of diagonals, the square has equal-length diagonals and an arbitarily constructed rhombus usually does not. Hence we can have a simple algorithm:</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">say is_square($pt0, $pt1, $pt2, $pt3);


<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_square</span> {
    <span style="color:#66d9ef">my</span> ($p0,$p1,$p2,$p3) <span style="color:#f92672">=</span> ($_[<span style="color:#ae81ff">0</span>], $_[<span style="color:#ae81ff">1</span>], $_[<span style="color:#ae81ff">2</span>], $_[<span style="color:#ae81ff">3</span>]);

    <span style="color:#f92672">...</span> code block calculate the vectors pairwisely
    <span style="color:#66d9ef">my</span> @n_vector <span style="color:#f92672">=</span> map { norm($_) } ($v0, $v1, $v2, <span style="color:#f92672">...</span> );
    @n_vector <span style="color:#f92672">=</span> sort {$a<span style="color:#e6db74">&lt;=&gt;</span>$b} @n_vector;
    <span style="color:#66d9ef">if</span> the first four items of @n_vector are equal
      <span style="color:#f92672">and</span> the <span style="color:#66d9ef">last</span> two items of @n_vector are equal
        <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>

}
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">norm</span> {
    <span style="color:#66d9ef">my</span> $p <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    $sum<span style="color:#f92672">+=</span> ($p<span style="color:#f92672">-&gt;</span>[$_])<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$p<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span>);
    <span style="color:#66d9ef">return</span> $sum;
}

ok is_square( [<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">20</span>], [<span style="color:#ae81ff">20</span>,<span style="color:#ae81ff">20</span>], [<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">10</span>], [<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>] ) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;Example 1&#34;</span>;
ok is_square( [<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">24</span>], [<span style="color:#ae81ff">16</span>,<span style="color:#ae81ff">10</span>], [<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">12</span>], [<span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">16</span>] ) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;Example 2&#34;</span>;
ok is_square( [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>] , [<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">3</span>], [<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>], [<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>] ) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;Knight&#39;s square&#34;</span>;
ok is_square( [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>] , [<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>], [ <span style="color:#ae81ff">1</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], [<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] ) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;centre at origin&#34;</span>;
</code></pre></div><br>
<h3 id="math-fun-properties-of-n-hypercube">Math Fun: Properties of n-hypercube</h3>
<br>
<p><img src="/images/blog/2021-12-12-Cube_diagonals.png" alt="Cube Diagonal"></p>
<br>
<p>Shouldn&rsquo;t we investigate some basic stuff about the cube in order to understand the hypercube?</p>
<br>
<h4 id="cube">Cube:</h4>
<pre><code>Number of vertices: 8
Number of edges: 12
Number of faces: 6
Number of cubes: 1
</code></pre>
<h4 id="especially-for-the-segments-between-pairs-of-vertices">Especially for the segments between pairs of vertices:</h4>
<pre><code>Number of edges: 12
Number of face diagonals: 12
Number of body diagonals: 4
Total Number of Segments: 28
</code></pre>
<br>
<p><img src="/images/blog/2021-12-12-hypercube.png" alt="Hypercube"></p>
<br>
<p>Look at the diagram of the hypercube on right in order to get some sensation on it.</p>
<p>Now we proceed (can be counted from looking at the diagram):</p>
<h4 id="hypercube">Hypercube:</h4>
<pre><code>Number of vertices: 8 × 2 = 16
Number of edges: num of edges in a cube × 2 + 8 edges from the self replicating process = 12×2 + 8 = 32
Number of faces: num of faces in a cube × 2 + 12 faces new = 6×2 + 4×6÷2 = 24
Number of cubes: 2 + 6 = 8
</code></pre>
<h4 id="especially-for-the-segments-between-pairs-of-vertices-1">Especially for the segments between pairs of vertices:</h4>
<pre><code>Number of edges: 32
Number of face diagonals: 2×24 = 48
Number of body diagonals: 4×8 = 32
Number of &quot;hyperdiagonals&quot;: 8
Total Number of Segments: 120
</code></pre>
<p>I have circled the four body-diagonal points with respect to the bigger bottom right point in red colour as I think it might be the most difficult for us to catch them by intuition.</p>
<p>Though we are not going to code for the <code>5-hypercube</code>, we may try some calculations based on above.</p>
<p><code>5-hypercube</code>. Yup, disclamier: I cannot <code>&quot;sense&quot;</code> how the <code>5-hypercube</code> looks like. Here are just calculations (number of edges verified on <a href="https://oeis.org/A001787"><strong>OEIS sequence A001787</strong></a> :</p>
<br>
<pre><code>Number of vertices: 32
Number of edges: 32×2 + 16 = 80
Number of faces: 20×2 + ? × ? ÷ ? = ??
</code></pre>
<br>
<p>Oh, I resign, I fail to continue to count the remaining! But we can see there are already <code>80 edges</code>, we can expect an order of magnitude of <code>102 or above</code> for the total number of concerned segments in <code>5-hypercube</code>.</p>
<br>
<h2 id="vector-sum-approach">Vector Sum Approach</h2>
<br>
<p>As said, we cannot solely rely on the length of edges. And the section <code>&quot;Properties of Squares (and Cubes) and a Primitive Algorithm&quot;</code> has already provided an algorithm and codes, what am I going to talk about?</p>
<p>If you read the optional section <code>Properties of n-hypercube&quot;</code> you will find there would be a huge number of length of segments we are going to calculate if we follow the primitive algorithm.</p>
<p>Another side of the primitive algorithm we need to consider is: are there any polytope with same various diagonals which are the same? Intuitively the answer is yes, but&hellip; I haven&rsquo;t proved it. So it remains a <code>&quot;conjecture&quot;</code> in our context. So&hellip; I don&rsquo;t think it is a safe approach for extending to cube or hypercube. A safer approach under the condition that <code>&quot;the diagonal conjecture is not yet proved&quot;</code> is checking the norm of a diagonal against the norm of an edge.</p>
<p>OK let us see the code now:</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_square</span> {
    <span style="color:#66d9ef">my</span> ($p0,$p1,$p2,$p3) <span style="color:#f92672">=</span> ($_[<span style="color:#ae81ff">0</span>], $_[<span style="color:#ae81ff">1</span>], $_[<span style="color:#ae81ff">2</span>], $_[<span style="color:#ae81ff">3</span>]);
    <span style="color:#66d9ef">my</span> $v0 <span style="color:#f92672">=</span> vec_subtract($p0, $p1);
    <span style="color:#66d9ef">my</span> $v1 <span style="color:#f92672">=</span> vec_subtract($p0, $p2);
    <span style="color:#66d9ef">my</span> $v2 <span style="color:#f92672">=</span> vec_subtract($p0, $p3);
    <span style="color:#75715e"># &#34;dot product test&#34;;</span>
    <span style="color:#75715e"># return 0 unless (vec_prod_f($v1, $v2) == 0) xor</span>
    <span style="color:#75715e">#                (vec_prod_f($v0, $v2) == 0) xor</span>
    <span style="color:#75715e">#                (vec_prod_f($v0, $v1) == 0);</span>
    <span style="color:#66d9ef">my</span> @n_vector <span style="color:#f92672">=</span> map { norm($_) } ($v0, $v1, $v2);
    @n_vector <span style="color:#f92672">=</span> sort {$a<span style="color:#e6db74">&lt;=&gt;</span>$b} @n_vector;
    <span style="color:#75715e"># &#34;norm test&#34;</span>
    <span style="color:#75715e">#if ( $n_vector[0] == $n_vector[1] ) {</span>
<span style="color:#75715e">#   the above conditional is fit for integter coordinates</span>
<span style="color:#75715e">#   the below is special arrangement starting from the 5th test case</span>
<span style="color:#75715e">#   or floating point number in general</span>
    <span style="color:#66d9ef">if</span> ( sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>,$n_vector[<span style="color:#ae81ff">0</span>]) <span style="color:#f92672">==</span> sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>, $n_vector[<span style="color:#ae81ff">1</span>])
       <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>, $n_vector[<span style="color:#ae81ff">0</span>]) <span style="color:#f92672">==</span> sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>, $n_vector[<span style="color:#ae81ff">2</span>])
<span style="color:#75715e">#       the above line concerning length of diagonal is sqrt(2)</span>
<span style="color:#75715e">#       times the edge length would not be a necessary check</span>
<span style="color:#75715e">#       if we preserve the dot product test, because in</span>
<span style="color:#75715e">#       Euclidean space, if two vectors are orthogonal and in equal length,</span>
<span style="color:#75715e">#       we can apply the Pythagorean theorem for the norm of the vector sum.</span>
<span style="color:#75715e">#       For DEMOSTRATION PURPOSE,</span>
<span style="color:#75715e">#       the test of orthogonality (the dot product test) is commented out by brace,</span>
<span style="color:#75715e">#       but the dot product test will be used both for cube and hypercube.</span>
         ) {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">vec_prod</span> {
    <span style="color:#66d9ef">my</span> $first <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $second <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">1</span>];
    warn <span style="color:#e6db74">&#34;Not the same dimension in vec_prod \n&#34;</span> <span style="color:#66d9ef">if</span> $first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">!=</span> <span style="color:#960050;background-color:#1e0010">$</span>second<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*;</span>
    my $sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    $sum<span style="color:#f92672">+=</span> ($first<span style="color:#f92672">-&gt;</span>[$_]<span style="color:#f92672">*</span>$second<span style="color:#f92672">-&gt;</span>[$_]) <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span>);
    <span style="color:#66d9ef">return</span> $sum;
}
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">vec_subtract</span> {
    <span style="color:#66d9ef">my</span> $first <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $second <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">1</span>];
    <span style="color:#66d9ef">my</span> $ans <span style="color:#f92672">=</span> <span style="color:#f92672">[]</span>;
    warn <span style="color:#e6db74">&#34;Not the same dimension in vec_subtract\n&#34;</span> <span style="color:#66d9ef">if</span> $first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">!=</span> <span style="color:#960050;background-color:#1e0010">$</span>second<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*;</span>
    for <span style="color:#66d9ef">my</span> $s (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span>) {
        push $ans<span style="color:#f92672">-&gt;</span>@<span style="color:#960050;background-color:#1e0010">*</span>, $second<span style="color:#f92672">-&gt;</span>[$s] <span style="color:#f92672">-</span> $first<span style="color:#f92672">-&gt;</span>[$s];
    }
    <span style="color:#66d9ef">return</span> $ans;
}
</code></pre></div><br>
<p>By the properties of vectors, the diagonal vector is the vector sum of two vectors representing the edge while we are keeping the direction correctly.</p>
<p>I will discuss the ugly <code>&amp;sprintf()</code> (gonna be replaced by <code>&amp;norm_f</code> ) on the later section <code>&quot;Numerical Inaccuracy&quot;</code>. See also the reason of not using dot product test; honestly I am not sure which (dot product test or checking the norms) is a better combat against numerical inaccuracy; therefore they are being <code>&quot;comment out&quot;</code> via <code>=pod</code>.</p>
<br>
<h2 id="adventure-to-cube-and-hypercube">Adventure to Cube and Hypercube</h2>
<br>
<p>I intentionally avoid using permutations in the <code>&amp;is_cube</code> here but using permtutations in <code>&amp;is_hypercube</code> for <code>DEMOSTRATING</code> the logic more explicitly for some potential audience. Three nested conditionals, acceptable (?). You can get the link for finalized, more concise code at the bottom of the page.</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_cube</span> {
    <span style="color:#66d9ef">my</span> @p <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> %v;
    $v{$_} <span style="color:#f92672">=</span> vec_subtract($p[<span style="color:#ae81ff">0</span>], $p[$_]) <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">7</span>);
    <span style="color:#66d9ef">my</span> @ind <span style="color:#f92672">=</span> sort { norm($v{$a}) <span style="color:#e6db74">&lt;=&gt;</span> norm($v{$b}) } keys %v;
    <span style="color:#66d9ef">my</span> ($N, $W, $U) <span style="color:#f92672">=</span> ($v{$ind[<span style="color:#ae81ff">0</span>]} , $v{$ind[<span style="color:#ae81ff">1</span>]} , $v{$ind[<span style="color:#ae81ff">2</span>]}) ;
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">unless</span> norm_f($N) <span style="color:#f92672">==</span> norm_f($W) <span style="color:#f92672">&amp;&amp;</span> norm_f($N) <span style="color:#f92672">==</span> norm_f($U);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">unless</span> vec_prod_f($N,$W) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> vec_prod_f($W,$U) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>
                        <span style="color:#f92672">&amp;&amp;</span> vec_prod_f($U,$N) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">my</span> $NW <span style="color:#f92672">=</span> vec_sum($N, $W);
    <span style="color:#66d9ef">my</span> $WU <span style="color:#f92672">=</span> vec_sum($W, $U);
    <span style="color:#66d9ef">my</span> $UN <span style="color:#f92672">=</span> vec_sum($U, $N);
    <span style="color:#66d9ef">my</span> $bool <span style="color:#f92672">=</span> undef;
    <span style="color:#66d9ef">if</span> (vec_same_f($NW, $v{$ind[<span style="color:#ae81ff">3</span>]})) {
      <span style="color:#66d9ef">if</span>   (  vec_same_f($WU, $v{$ind[<span style="color:#ae81ff">4</span>]})
          <span style="color:#f92672">&amp;&amp;</span>  vec_same_f($UN, $v{$ind[<span style="color:#ae81ff">5</span>]}) ) { $bool <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
      } <span style="color:#66d9ef">elsif</span> ( vec_same_f($WU, $v{$ind[<span style="color:#ae81ff">5</span>]})
           <span style="color:#f92672">&amp;&amp;</span>   vec_same_f($UN, $v{$ind[<span style="color:#ae81ff">4</span>]}) ) { $bool <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
      }
    }
    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>$bool <span style="color:#f92672">&amp;&amp;</span> vec_same_f($NW, $v{$ind[<span style="color:#ae81ff">4</span>]})) {
      <span style="color:#66d9ef">if</span>   (  vec_same_f($WU, $v{$ind[<span style="color:#ae81ff">3</span>]})
          <span style="color:#f92672">&amp;&amp;</span>  vec_same_f($UN, $v{$ind[<span style="color:#ae81ff">5</span>]}) ) { $bool <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
      } <span style="color:#66d9ef">elsif</span> ( vec_same_f($WU, $v{$ind[<span style="color:#ae81ff">5</span>]})
           <span style="color:#f92672">&amp;&amp;</span>   vec_same_f($UN, $v{$ind[<span style="color:#ae81ff">3</span>]}) ) { $bool <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
      }
    }
    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>$bool <span style="color:#f92672">&amp;&amp;</span> vec_same_f($NW, $v{$ind[<span style="color:#ae81ff">5</span>]})) {
      <span style="color:#66d9ef">if</span>   (  vec_same_f($WU, $v{$ind[<span style="color:#ae81ff">4</span>]})
          <span style="color:#f92672">&amp;&amp;</span>  vec_same_f($UN, $v{$ind[<span style="color:#ae81ff">3</span>]}) ) { $bool <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
      } <span style="color:#66d9ef">elsif</span> ( vec_same_f($WU, $v{$ind[<span style="color:#ae81ff">3</span>]})
           <span style="color:#f92672">&amp;&amp;</span>   vec_same_f($UN, $v{$ind[<span style="color:#ae81ff">4</span>]}) ) { $bool <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
      }
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">!</span>$bool;

    <span style="color:#66d9ef">my</span> $NWU <span style="color:#f92672">=</span> vec_sum( $N, $WU);
    <span style="color:#66d9ef">if</span> ( vec_same_f( $v{$ind[<span style="color:#ae81ff">6</span>]} , $NWU ) ) {
<span style="color:#75715e">=pod
</span><span style="color:#75715e">        return 0 unless
</span><span style="color:#75715e">            2*norm_f($N) == norm_f($NW) &amp;&amp;
</span><span style="color:#75715e">            norm_f($NW) == norm_f($WU) &amp;&amp;
</span><span style="color:#75715e">            norm_f($WU) == norm_f($UN) &amp;&amp;
</span><span style="color:#75715e">            3*norm_f($N) == norm_f($NWU);
</span><span style="color:#75715e">=cut</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
    }
    <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
    }
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_hypercube</span> {
    <span style="color:#66d9ef">my</span> @p <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> %v;
    $v{$_} <span style="color:#f92672">=</span> vec_subtract($p[<span style="color:#ae81ff">0</span>], $p[$_]) <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">15</span>);
    <span style="color:#66d9ef">my</span> @ind <span style="color:#f92672">=</span> sort { norm($v{$a}) <span style="color:#e6db74">&lt;=&gt;</span> norm($v{$b}) } keys %v;
    <span style="color:#66d9ef">my</span> ($N, $W, $U, $A) <span style="color:#f92672">=</span> ( $v{$ind[<span style="color:#ae81ff">0</span>]}, $v{$ind[<span style="color:#ae81ff">1</span>]} ,
                            $v{$ind[<span style="color:#ae81ff">2</span>]}, $v{$ind[<span style="color:#ae81ff">3</span>]} );
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">unless</span>
        norm_f($N) <span style="color:#f92672">==</span> norm_f($W) <span style="color:#f92672">&amp;&amp;</span> norm_f($W) <span style="color:#f92672">==</span> norm_f($U)
                             <span style="color:#f92672">&amp;&amp;</span> norm_f($U) <span style="color:#f92672">==</span> norm_f($A);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">unless</span>
        vec_prod_f($N, $W) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span>
        vec_prod_f($N, $U) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span>
        vec_prod_f($N, $A) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span>
        vec_prod_f($A, $W) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span>
        vec_prod_f($A, $U) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span>
        vec_prod_f($W, $U) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> ;

    <span style="color:#66d9ef">my</span> $AU <span style="color:#f92672">=</span> vec_sum($A, $U);
    <span style="color:#66d9ef">my</span> $AW <span style="color:#f92672">=</span> vec_sum($A, $W);
    <span style="color:#66d9ef">my</span> $AN <span style="color:#f92672">=</span> vec_sum($A, $N);
    <span style="color:#66d9ef">my</span> $NW <span style="color:#f92672">=</span> vec_sum($N, $W);
    <span style="color:#66d9ef">my</span> $WU <span style="color:#f92672">=</span> vec_sum($W, $U);
    <span style="color:#66d9ef">my</span> $UN <span style="color:#f92672">=</span> vec_sum($U, $N);
    <span style="color:#66d9ef">my</span> $bool_face <span style="color:#f92672">=</span> undef;
    <span style="color:#66d9ef">my</span> $iter_face <span style="color:#f92672">=</span> permutations([$AU, $UN, $NW, $WU, $AW, $AN]);
    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>$bool_face <span style="color:#f92672">&amp;&amp;</span> (<span style="color:#66d9ef">my</span> $p <span style="color:#f92672">=</span> $iter_face<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">next</span>)) {
        $bool_face <span style="color:#f92672">=</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">4</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">0</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">5</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">1</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">6</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">2</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">7</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">3</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">8</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">4</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">9</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">5</span>]) ;
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">!</span>$bool_face;

    <span style="color:#66d9ef">my</span> $UNW <span style="color:#f92672">=</span> vec_sum($UN, $W);
    <span style="color:#66d9ef">my</span> $ANW <span style="color:#f92672">=</span> vec_sum($NW, $A);
    <span style="color:#66d9ef">my</span> $AWU <span style="color:#f92672">=</span> vec_sum($WU, $A);
    <span style="color:#66d9ef">my</span> $AUN <span style="color:#f92672">=</span> vec_sum($UN, $A);
    <span style="color:#66d9ef">my</span> $bool_cube <span style="color:#f92672">=</span> undef;
    <span style="color:#66d9ef">my</span> $iter_cube <span style="color:#f92672">=</span> permutations([$UNW, $ANW, $AWU, $AUN]);
    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>$bool_cube <span style="color:#f92672">&amp;&amp;</span> (<span style="color:#66d9ef">my</span> $p <span style="color:#f92672">=</span> $iter_cube<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">next</span>)) {
        $bool_cube <span style="color:#f92672">=</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">10</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">0</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">11</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">1</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">12</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">2</span>]) <span style="color:#f92672">&amp;&amp;</span>
            vec_same_f($v{$ind[<span style="color:#ae81ff">13</span>]}, $p<span style="color:#f92672">-&gt;</span>[<span style="color:#ae81ff">3</span>]);
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">!</span>$bool_cube;

    <span style="color:#66d9ef">my</span> $AUNW <span style="color:#f92672">=</span> vec_sum($AU,$NW);
    <span style="color:#66d9ef">if</span> ( vec_same_f($v{$ind[<span style="color:#ae81ff">14</span>]}, $AUNW) ) {
<span style="color:#75715e">=pod
</span><span style="color:#75715e">        return 0 unless
</span><span style="color:#75715e">            2*norm_f($N) == norm_f($NW) &amp;&amp;
</span><span style="color:#75715e">            norm_f($NW) == norm_f($AU) &amp;&amp;
</span><span style="color:#75715e">            norm_f($NW) == norm_f($UN) &amp;&amp;
</span><span style="color:#75715e">            norm_f($NW) == norm_f($WU) &amp;&amp;
</span><span style="color:#75715e">            norm_f($NW) == norm_f($AW) &amp;&amp;
</span><span style="color:#75715e">            norm_f($NW) == norm_f($AN) &amp;&amp;
</span><span style="color:#75715e">            3*norm_f($N) == norm_f($UNW) &amp;&amp;
</span><span style="color:#75715e">            3*norm_f($N) == norm_f($ANW) &amp;&amp;
</span><span style="color:#75715e">            3*norm_f($N) == norm_f($AWU) &amp;&amp;
</span><span style="color:#75715e">            3*norm_f($N) == norm_f($AUN) &amp;&amp;
</span><span style="color:#75715e">            4*norm_f($N) == norm_f($AUNW);
</span><span style="color:#75715e">=cut</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
    }
    <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
    }
}
</code></pre></div><br>
<h2 id="numerical-inaccuracy">Numerical Inaccuracy</h2>
<br>
<p>When all the coordinates are integers, there will not be any problems. What if we supply <code>sqrt($INT)</code> or <code>sin($ANGLE)</code>? It was found that <code>Perl 5</code> (maybe many other programming language which are not built-in <code>radical</code> or <code>&quot;good sin function&quot;</code>). does not work well. Luckily a roundabout is found:</p>
<pre><code>sprintf(&quot;%f&quot;, $non-integer-value).
</code></pre>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">vec_prod</span> {
    <span style="color:#66d9ef">my</span> $first <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $second <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">1</span>];
    warn <span style="color:#e6db74">&#34;Not the same dimension in vec_prod \n&#34;</span> <span style="color:#66d9ef">if</span> $first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">!=</span> <span style="color:#960050;background-color:#1e0010">$</span>second<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*;</span>
    my $sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    $sum<span style="color:#f92672">+=</span> ($first<span style="color:#f92672">-&gt;</span>[$_]<span style="color:#f92672">*</span>$second<span style="color:#f92672">-&gt;</span>[$_]) <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span>);
    <span style="color:#66d9ef">return</span> $sum;
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">vec_prod_f</span> {
    <span style="color:#66d9ef">return</span> sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>, vec_prod($_[<span style="color:#ae81ff">0</span>], $_[<span style="color:#ae81ff">1</span>]));
}


<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">norm</span> {
    <span style="color:#66d9ef">my</span> $p <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    $sum<span style="color:#f92672">+=</span> ($p<span style="color:#f92672">-&gt;</span>[$_])<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$p<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span>);
    <span style="color:#66d9ef">return</span> $sum;
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">norm_f</span> {
    <span style="color:#66d9ef">return</span> sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>, norm($_[<span style="color:#ae81ff">0</span>]));
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">vec_same</span> {
    <span style="color:#66d9ef">my</span> $first <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $second <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">1</span>];
    warn <span style="color:#e6db74">&#34;Not the same dimension in vec_same\n&#34;</span> <span style="color:#66d9ef">if</span> $first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">!=</span> <span style="color:#960050;background-color:#1e0010">$</span>second<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*;</span>
    for <span style="color:#66d9ef">my</span> $s (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span>) {
        <span style="color:#66d9ef">return</span> undef <span style="color:#66d9ef">if</span> $first<span style="color:#f92672">-&gt;</span>[$s] <span style="color:#f92672">!=</span> $second<span style="color:#f92672">-&gt;</span>[$s];
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">vec_same_f</span> {
    <span style="color:#66d9ef">my</span> $first <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">my</span> $second <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">1</span>];
    warn <span style="color:#e6db74">&#34;Not the same dimension in vec_same_f\n&#34;</span> <span style="color:#66d9ef">if</span> $first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">!=</span> <span style="color:#960050;background-color:#1e0010">$</span>second<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*;</span>
    for <span style="color:#66d9ef">my</span> $s (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$first<span style="color:#f92672">-&gt;</span>$#<span style="color:#960050;background-color:#1e0010">*</span>) {
        <span style="color:#66d9ef">return</span> undef <span style="color:#66d9ef">if</span> sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>,$first<span style="color:#f92672">-&gt;</span>[$s]) <span style="color:#f92672">!=</span> sprintf(<span style="color:#e6db74">&#34;%f&#34;</span>,$second<span style="color:#f92672">-&gt;</span>[$s]);
    }
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><br>
<h2 id="discussion-for-the-norm-only-approach">Discussion for the Norm-ONLY Approach</h2>
<br>
<p><img src="/images/blog/2021-12-12-wk123_t2.png" alt="Hypercube"></p>
<br>
<p>It is possible to calculate all the lengths between points, sort them, and compare whether a cluster of them is equally valued (or whether they are correct multiples of the length of the edges). However, the number of total segments exponentially increases as the dimension increases. And I don&rsquo;t know yet what the minimum number of segment length to be checked is (except for squares).</p>
<p>Another mathematical point is, if we fix a point as <code>&quot;reference origin&quot;</code>, we only need to calculate and sort 2N-1 vectors. Not out of surprise is that the distribution of lengths of the vectors follow the Pascal triangle:</p>
<br>
<pre><code>For N = 2, check (1) diagonal;
For N = 3, check (2, 1) diagonals;
For N = 4, check (3, 3, 1) diagonals;
For N = 5, check (4, 6, 4, 1) diagonals;
...
</code></pre>
<br>
<p>If we calculate all the segments, there are <code>2N-1 × (2N-1)</code> segments, and the distribution of the lengths is a bit more unpleasant to be calculated:</p>
<br>
<pre><code>For N = 2, check (2) diagonals;
For N = 3, check (12, 4) diagonals;
For N = 4, check (48, 32, 8) diagonals;
</code></pre>
<br>
<h2 id="summary">Summary</h2>
<br>
<p>I don&rsquo;t do the <code>&amp;is_5-hypercube</code>. But you can see it will be about checking the orthogonality of the set of 31 vectors origined from one of the vertices, sorting their norms; just bear in mind that the distribution of the lengths of the vectors is <code>(5, 10, 10, 5, 1)</code>, check whether the vector sums of the edges are same as diagonals&hellip;</p>
<hr>
<p>If you have any suggestion then please do share with us <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>
<p><a href="/blog/advent-calendar-2021"><strong>Advent Calendar 2021</strong></a></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2021
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.nomtimes.co.uk/site/shop.do?cref=PerlBooks" title="Free Perl Books" rel="noreferrer" target="_blank">
                            <img src="/images/NomTimes.jpg" style="width:22px; height: 18px;" alt=""/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-136524905-1', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>

