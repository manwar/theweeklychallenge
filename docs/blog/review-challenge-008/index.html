<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://perlweeklychallenge.org/"/>
    <meta property="og:image"       content="https://perlweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://perlweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Kian-Meng Ang Review Challenge #008.">
    <meta name="author" content="Perl Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kian-Meng Ang Weekly Review: Challenge - 008</title>
    <link rel="icon" href="https://perlweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/main.css">
</head>

<body>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://perlweeklychallenge.org/">
                        <img src="https://perlweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Kian-Meng Ang Weekly Review: Challenge - 008</h2>
                    <div class="portfolio-meta">
                        <span>Wednesday, May 22, 2019</span>|
                        <span> Tags:
                            Perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://perlweeklychallenge.org/images/blog/p5-review-challenge-008.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <p>Follow up on this week review of the Perl Weekly Challenge #008 of answers submitted by all the participants. Read the <a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-008/">full question list</a> and the <a href="https://perlweeklychallenge.org/blog/recap-challenge-008/">recap of the challenge</a> to have an overview before we proceed with our review.</p>
<hr>
<h2 id="challenge-1">Challenge #1</h2>
<hr>
<p>Looking through all the submissions, there are several approaches used by these participants to calculate the first five <a href="https://en.wikipedia.org/wiki/Perfect_number">perfect numbers</a> which are <a href="https://en.wikipedia.org/wiki/List_of_perfect_numbers">6, 28, 496, 8128, and 33550336</a>. The first approach is to calculate by brute force (<a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/adam-russell/perl5/ch-1.pl">Adam Russell</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/dave-jacoby/perl5/ch-1.pl">Dave Jacoby</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/gustavo-chaves/perl5/ch-1.pl">Gustavo Chaves</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/ruben-westerberg/perl5/ch-1.pl">Ruben Westerberg</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/laurent-rosenfeld/perl5/ch-1a.pl">Laurent Rosenfeld</a>, and <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/guillermo-ramos/perl5/ch-1.pl">Guillermo Ramos</a>). Result was slow (<a href="https://adamcrussell.livejournal.com/2607.html">took a few hours</a>) as the bottleneck is on the calculation of fifth perfect number, a very large number, as in around 33 millions. This is a time complexity or <a href="https://en.wikipedia.org/wiki/Big_O_notation">O(n)</a> problem where we have to iterate through all the numbers lesser than n. A better or optimized approach was to generate the series using algorithm through <a href="https://en.wikipedia.org/wiki/Euclid%E2%80%93Euler_theorem">Euclid–Euler theorem</a> (<a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/alicia-bielsa/perl5/ch-1.pl">Alicia Bielsa</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/maxim-nechaev/perl5/ch-1.pl">Maxim Nechaev</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/athanasius/perl5/ch-1.pl">Athanasius</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/daniel-mantovani/perl5/ch-1.pl">Daniel Mantovani</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/laurent-rosenfeld/perl5/ch-1b.pl">Laurent Rosenfeld</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/jaldhar-h-vyas/perl5/ch-1.pl">Jaldhar H. Vyas</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/guillermo-ramos/perl5/ch-1a.pl">Guillermo Ramos</a>, <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/james-smith/perl5/ch-1.pl">James Smith</a>, and <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/yozen-hernandez/perl5/ch-1.pl">Yozen Hernandez</a>). The shortest and Perl way answer using the Euclid-Euler theorem belongs to <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/james-smith/perl5/ch-1.pl">James Smith</a>. Read his <a href="https://github.com/manwar/perlweeklychallenge-club/tree/master/challenge-008/james-smith">write-up</a> on his approach to tackle this problem.</p>
<pre><code>use feature qw(say);
use List::Util qw(notall);
my $q = 1;
foreach(1..7) {
  ($q&lt;&lt;=1)++; ## $q is a sequence of the form 2^n-1;
  redo if notall { $q%$_ } 2..($q-1); ## Only contine if $q is mersenne prime
  say $q*($q+1)/2;
}
</code></pre>
<p>One interesting observation while went through all these answers was how common the <a href="https://perldoc.perl.org/List/Util.html"><code>List::Util</code></a> module being used and yet, in totally different manners. Even though the approach to solve the question was similar, different participants have different coding styles. Hence, we have seen <a href="https://perldoc.perl.org/List/Util.html#sum"><code>sum</code></a>, <a href="https://perldoc.perl.org/List/Util.html#uniqnum"><code>uniqnum</code></a>, <a href="https://perldoc.perl.org/List/Util.html#sum0"><code>sum0</code></a>, and <a href="https://perldoc.perl.org/List/Util.html#notall"><code>notall</code></a> functions being applied differently.</p>
<hr>
<h2 id="challenge-2">Challenge #2</h2>
<hr>
<p>This is a straightforward question and some participant should have already solved it in challenge #2 in <a href="https://www.kianmeng.org/2019/04/perl-weekly-challenge-003-2019-week-15.html">Perl Weekly Challenge #003</a> to display <a href="https://en.wikipedia.org/wiki/Pascal%27s_triangle">Pascal&rsquo;s triangle</a> in tree or triangle form. To center a list of string, we need three steps. First, we need to find the longest length of the string from the list. If we don&rsquo;t want to use external module, we can do it using the default language constructs. For example, Laurent Rosenfeld <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/laurent-rosenfeld/perl5/ch-2.pl">calculated the maximum length</a> by simply looping through all the lines&rsquo; length.</p>
<pre><code>my $max_size = 0;
for my $str (@_) {
    my $length = length $str;
    $max_size = $length if $length &gt; $max_size;
}
</code></pre>
<p>While Ruben Westerberg used an <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/ruben-westerberg/perl5/ch-2.pl">one-liner approach</a>.</p>
<pre><code>my $max=0;
map { chomp; ($max &lt; length($_ )) ? $max=length($_):();} @_;
</code></pre>
<p>And Guillermo Ramos used a more explicit <a href="https://en.wikipedia.org/wiki/MapReduce">map-reduce approach</a>.</p>
<pre><code>use List::Util qw(max reduce);
......
my $maxlen = reduce { max($a, length $b) } 0, @_;
</code></pre>
<p>Meanwhile, Adam Russell used an unorthodox approach by <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/adam-russell/perl5/ch-2.pl">using <code>eval</code> and <code>tr</code></a> to calculate each line length.</p>
<pre><code>foreach my $line (@words){
    $line_length{$i} = do{
        $line =~ tr/ [a-z][A-Z]//;
    };
    $max_length = $line_length{$i} if $line_length{$i} &gt; $max_length;
    $i++;
}
</code></pre>
<p>Next, we find the number of space to prepend to the current line of string by
calculating the difference of the longest string length and current line and
divided it by 2. Almost all participants was using this formulae. The
solution by <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/gustavo-chaves/perl5/ch-2.pl">Gustavo
Chaves</a>
illustrates this succinctly.</p>
<pre><code>sub center {
    my @lines = @_;
    my $max = max map {length} @lines;
    return map {' ' x (($max - length) / 2) . $_} @lines;
}
</code></pre>
<p>And off course, there will a relevant CPAN module, <a href="https://metacpan.org/pod/String::Pad"><code>String::Pad</code></a>, in this case, that have such functionality.</p>
<hr>
<h2 id="challenge-3">Challenge #3</h2>
<hr>
<p>Joelle Maslak is the only participant who took up this last and optional challenge. Nevertheless, the solution was <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/joelle-maslak/perl5/ch-3.readme">featureful</a>, comprehensive, and very well coded. Furthermore, it was also one of the earliest submissions and there were even two versions existed for <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/joelle-maslak/perl5/ch-3.pl">Perl 5</a> and <a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-008/joelle-maslak/perl6/ch-3.p6">Perl 6</a>. Hopefully, this solution can turned into a full featured Perl module or console app. There are a few things to take note from the reading the code of this script. It&rsquo;s okay to use <a href="https://perldoc.perl.org/feature.html#The-'signatures'-feature"><code>signatures</code> feature</a> or subroutine signature even though it&rsquo;s still under experimental since it was <a href="https://www.effectiveperlprogramming.com/2015/04/use-v5-20-subroutine-signatures/">first released in v5.20</a>. If you&rsquo;re developing for internal system and don&rsquo;t release your code for external consumption, then it&rsquo;s a good choice to use this. Subroutine signature did reduce the need for <a href="https://www.perl.com/article/72/2014/2/24/Perl-levels-up-with-native-subroutine-signatures/">parameter assignment</a>. The use of <a href="https://metacpan.org/pod/Perl6::Slurp"><code>Perl6::Slurp</code></a> module was a deliberated choice since the author have submitted solutions for both Perl 5 and 6 and want to maintain compability and minimize changes.</p>
<p>Related blog posts related to this week challenge.</p>
<ol>
<li>
<p>Arne Sommer gave us a walk through on solving both problem in Perl 6 especially how long it took to calculate the fifth perfect numbers.</p>
</li>
<li>
<p>Adam Russel wrote about <a href="https://adamcrussell.livejournal.com/2607.html">different approaches</a> on optimizing the
perfect numbers calculation from brute force, algorithmic, parallelization by <a href="https://adamcrussell.livejournal.com/3146.html">threading</a>, and delegation by <a href="https://adamcrussell.livejournal.com/2850.html">integrating C++ and Perl with SWIG</a>.</p>
</li>
<li>
<p>Dave Jacoby <a href="https://jacoby.github.io//2019/05/15/finding-perfect-numbers-in-perl.html">blogged</a>
about the difference about brute force and algorithmic approach.</p>
</li>
<li>
<p>Laurent Rosenfeld <a href="http://blogs.perl.org/users/laurent_r/2019/05/perl-weekly-challenge-8-perfect-numbers-and-centered-output.html">provided us</a> with mathematical background on different algorithmic approaches in calculating Perfect numbers.</p>
</li>
</ol>
<p>5) Francis Whittle wrote about Perl 6 solutions <a href="https://rage.powered.ninja/2019/05/15/squaring-perfect-centre.html">post</a> on both challenges.</p>
<ol start="6">
<li>Simon Proctor also wrote another Perl 6 solution <a href="http://www.khanate.co.uk/blog/2019/05/14/perl-weekly-challenge-part-8/">post</a>.</li>
</ol>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2020
                    </span> PerlWeeklyChallenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.nomtimes.co.uk/site/shop.do?cref=PerlBooks" title="Free Perl Books" rel="noreferrer" target="_blank">
                            <img src="/images/NomTimes.jpg" style="width:22px; height: 18px;" alt=""/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://perlweeklychallenge.org/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://perlweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://perlweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://perlweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://perlweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://perlweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-136524905-1', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>

