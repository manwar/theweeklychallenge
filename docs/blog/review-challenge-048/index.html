<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://perlweeklychallenge.org/"/>
    <meta property="og:image"       content="https://perlweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://perlweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Ryan Thompson › Perl Weekly Review #048">
    <meta name="author" content="Perl Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ryan Thompson › Perl Weekly Review #048</title>
    <link rel="icon" href="https://perlweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/main.css">
</head>

<body>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://perlweeklychallenge.org/">
                        <img src="https://perlweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Ryan Thompson › Perl Weekly Review #048</h2>
                    <div class="portfolio-meta">
                        <span>Sunday, Mar 1, 2020</span>|
                        <span> Tags:
                            perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://perlweeklychallenge.org/images/blog/p5-review-challenge-048.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <p>Continues from <a href="/blog/review-challenge-047/">previous week</a>.</p>
<p>Welcome to the Perl review for Week 048 of the Weekly Challenge! For a quick overview, go through the <a href="/blog/perl-weekly-challenge-048/">original tasks</a> and <a href="/blog/recap-challenge-048/">recap</a> of the weekly challenge.</p>
<h2 id="getting-in-touch">Getting in Touch</h2>
<p><a href="mailto:rjt@cpan.org"><img src="http://ry.ca/misc/Email.svg" height="50" width="50"> Email</a> › Email me (Ryan) with any feedback about this review.</p>
<p><a href="https://github.com/manwar/perlweeklychallenge"><img src="http://ry.ca/misc/Github.svg" height="50" width="50"> GitHub</a> › Submit a pull request for any issues you may find with this page.</p>
<p><a href="https://twitter.com/perlwchallenge"><img src="http://ry.ca/misc/Twitter.svg" height="50" width="50"> Twitter</a> › Join the discussion on Twitter!</p>
<p>We&rsquo;d greatly appreciate any feedback you&rsquo;d like to give.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<h3 id="task-1task1"><a href="#task1">Task 1</a></h3>
<p>[ <a href="#alexander-karelas1">Alexander Karelas</a>  | <a href="#alicia-bielsa1">Alicia Bielsa</a>  | <a href="#andrezgz1">Andrezgz</a>  | <a href="#cheok-yin-fung1">Cheok-Yin Fung</a>  | <a href="#colin-crain1">Colin Crain</a>  | <a href="#dave-cross1">Dave Cross</a>  | <a href="#dave-jacoby1">Dave Jacoby</a>  | <a href="#duane-powell1">Duane Powell</a>  | <a href="#duncan-c-white1">Duncan C. White</a>  | <a href="#e-choroba1">E. Choroba</a>  | <a href="#ianrifkin1">Ian Rifkin</a>  | <a href="#jaldhar-h-vyas1">Jaldhar H. Vyas</a>  | <a href="#javier-luque1">Javier Luque</a>  | <a href="#laurent-rosenfeld1">Laurent Rosenfeld</a>  | <a href="#lubos-kolouch1">Lubos Kolouch</a>  | <a href="#markus-holzer1">Markus Holzer</a>  | <a href="#mohammad-anwar1">Mohammad S Anwar</a>  | <a href="#phillip-harris1">Phillip Harris</a>  | <a href="#roger-bell-west1">Roger Bell West</a>  | <a href="#ruben-westerberg1">Ruben Westerberg</a>  | <a href="#ryan-thompson1">Ryan Thompson</a>  | <a href="#saiftynet1">Saif Ahmed</a>  | <a href="#southpawgeek1">Jen Guerra</a>  | <a href="#steven-wilson1">Steven Wilson</a>  | <a href="#ulrich-rieke1">Ulrich Rieke</a>  | <a href="#user-person1">User Person</a>  | <a href="#walt-mankowski1">Walt Mankowski</a>  | <a href="#wanderdoc1">Wanderdoc</a>  ]</p>
<h3 id="task-2task2"><a href="#task2">Task 2</a></h3>
<p>[ <a href="#alexander-karelas2">Alexander Karelas</a>  | <a href="#alicia-bielsa2">Alicia Bielsa</a>  | <a href="#andrezgz2">Andrezgz</a>  | <a href="#cheok-yin-fung2">Cheok-Yin Fung</a>  | <a href="#colin-crain2">Colin Crain</a>  | <a href="#dave-cross2">Dave Cross</a>  | <a href="#dave-jacoby2">Dave Jacoby</a>  | <a href="#duane-powell2">Duane Powell</a>  | <a href="#duncan-c-white2">Duncan C. White</a>  | <a href="#e-choroba2">E. Choroba</a>  | <a href="#ianrifkin2">Ian Rifkin</a>  | <a href="#jaldhar-h-vyas2">Jaldhar H. Vyas</a>  | <a href="#javier-luque2">Javier Luque</a>  | <a href="#laurent-rosenfeld2">Laurent Rosenfeld</a>  | <a href="#lubos-kolouch2">Lubos Kolouch</a>  | <a href="#mohammad-anwar2">Mohammad S Anwar</a>  | <a href="#peter-scott2">Peter Scott</a>  | <a href="#phillip-harris2">Phillip Harris</a>  | <a href="#roger-bell-west2">Roger Bell West</a>  | <a href="#ruben-westerberg2">Ruben Westerberg</a>  | <a href="#ryan-thompson2">Ryan Thompson</a>  | <a href="#saiftynet2">Saif Ahmed</a>  | <a href="#southpawgeek2">Jen Guerra</a>  | <a href="#steven-wilson2">Steven Wilson</a>  | <a href="#user-person2">User Person</a>  | <a href="#walt-mankowski2">Walt Mankowski</a>  | <a href="#wanderdoc2">Wanderdoc</a>  ]</p>
<h3 id="blogsblogs"><a href="#blogs">Blogs</a></h3>
<hr>
<hr>
<h1 id="task1">Task #1 - Survivor</h1>
<p>Here is the original task description:</p>
<p><em>There are 50 people standing in a circle in position 1 to 50. The person standing at position 1 has a sword. He kills the next person i.e. standing at position 2 and pass on the sword to the immediate next i.e. person standing at position 3. Now the person at position 3 does the same and it goes on until only one survives.</em></p>
<p><em>Write a script to find out the survivor.</em></p>
<hr>
<p>This is a classic problem in computer science otherwise known as the <a href="https://en.wikipedia.org/wiki/Josephus_problem">Josepheus problem</a>. There are several ways to tackle the problem, ranging from brute force methods all the way to the constant-time analytical solutions.</p>
<h2 id="looping-with-splice">Looping with <code>splice</code></h2>
<p>The <a href="https://perldoc.perl.org/functions/splice.html"><code>splice</code></a> builtin will remove element(s) at the given position if a <code>LIST</code> argument is not given. Thus some solutions start with an array containing 1..50 and loop until that array has one element, using <code>splice</code> to remove the correct element.</p>
<p>Since this method requires explicit array indexing, it can be a bit error prone to implement, as evidenced by a couple of solutions that arrived at the wrong result. In particular, it&rsquo;s important to pay careful attention to the index wrap-around; since the sword skips one person, the index sometimes needs to be reset to 1, other times 0. Using the modulo (<code>%</code>) operator is a common trick for handling this.</p>
<h2 id="circular-linked-list">Circular linked list</h2>
<p><a href="https://en.wikipedia.org/wiki/Linked_list">Circular linked lists</a> are a very natural way to solve this problem. Perl does not have a built-in linked list type, but that&rsquo;s perhaps the fun of it: there are a few good ways to make a linked list for this problem. References work, of course, but it&rsquo;s also possible to make an O(1) linked list from a humble array of integers.</p>
<p><a href="http://www.ry.ca/2020/02/survivor-josepheus-problem/">My blog</a> has more discussion on circular linked lists and their use in this problem.</p>
<h2 id="looping-with-shiftpush">Looping with <code>shift</code>/<code>push</code></h2>
<p>A clever Perlish way to solve the problem involves storing the values 1..50 in an array, and then looping until the array has one element, with the following loop body:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">    push @a, shift @a;  <span style="color:#75715e"># Rotation (&#34;Next&#34;)</span>
    shift @a;           <span style="color:#75715e"># Kill</span>
</code></pre></div><p>As to why this works, the rotation is what essentially moves the cursor along. It does not change the relative positions of each element. Then the next <code>shift</code> (kill) just removes the person at that position.</p>
<p>Here is an example for five people:</p>
<pre><code>Start              Rotation     Killed
1 2 3 4 5       -&gt; 2 3 4 5 1 -&gt; 3 4 5 1
    3 4 5 1     -&gt; 4 5 1 3   -&gt; 5 1 3
        5 1 3   -&gt; 1 3 5     -&gt; 3 5
            3 5 -&gt; 5 3       -&gt; 3 -&gt; DONE
</code></pre><h2 id="brute-force-loops">Brute force loops</h2>
<p>Yet another way to solve this challenge involves putting all of your people into an array of 1s (1 = alive, 0 = dead), and whenever you need to kill someone or pass the sword along, you simply advance the cursor until you find a 1.</p>
<p>It&rsquo;s a little inefficient, especially in the later rounds when most everyone is dead, but it certainly runs quickly enough for small problem sizes.</p>
<hr>
<h2 id="alexander-karelas1">Alexander Karelas</h2>
<p>This is Alexander&rsquo;s first time contributing to the Challenge. Welcome, Alexander!</p>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/mastera/challenge-048/alexander-karelas/perl/ch-1.pl">Alexander Karelas&rsquo;s solution</a> uses <code>splice</code> with no <code>LIST</code> argument to remove elements from the <code>@people</code> list one at a time as they are &ldquo;killed&rdquo;, until the array only contains one element: the number of the survivor.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @people <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span>);
<span style="color:#66d9ef">my</span> $sword_at <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e"># array index</span>
<span style="color:#66d9ef">while</span> (@people <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    <span style="color:#66d9ef">if</span> ($sword_at <span style="color:#f92672">&lt;</span> $#people) {
        splice @people, $sword_at <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>;
        $sword_at<span style="color:#f92672">++</span>;
    } <span style="color:#66d9ef">else</span> {
        splice @people, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>;
        $sword_at <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }
}
say $people[<span style="color:#ae81ff">0</span>];
</code></pre></div><h2 id="alicia-bielsa1">Alicia Bielsa</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/alicia-bielsa/perl/ch-1.pl">Alicia Bielsa&rsquo;s solution</a> first initializes an array, <code>@aPeople</code> that is a singly-linked list, with an entry for each person. The <code>$swordPosition</code> is then tracked until <code>$numberPeopleAlive</code> is 1. The loop deletes one entry, and advances <code>$swordPosition</code>, just as the problem demands.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $numberPeople <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> $numberPeopleAlive <span style="color:#f92672">=</span> $numberPeople;
<span style="color:#66d9ef">my</span> @aPeople <span style="color:#f92672">=</span> ();
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $position (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$numberPeople){
    <span style="color:#66d9ef">my</span> $nextPosition <span style="color:#f92672">=</span> $position <span style="color:#f92672">==</span> $numberPeople ? <span style="color:#ae81ff">1</span> : $position <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">my</span> %hTmp <span style="color:#f92672">=</span> (  <span style="color:#e6db74">&#39;nextPosition&#39;</span> <span style="color:#f92672">=&gt;</span> $nextPosition);
    push (@aPeople, <span style="color:#f92672">\</span>%hTmp);
}
<span style="color:#66d9ef">my</span> $swordPosition  <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">while</span> ($numberPeopleAlive <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>){
    <span style="color:#66d9ef">my</span> $killPosition <span style="color:#f92672">=</span> $aPeople[ $swordPosition <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ]<span style="color:#f92672">-&gt;</span>{<span style="color:#e6db74">&#39;nextPosition&#39;</span>};
    $aPeople[ $swordPosition <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ]<span style="color:#f92672">-&gt;</span>{<span style="color:#e6db74">&#39;nextPosition&#39;</span>}  <span style="color:#f92672">=</span> $aPeople[ $killPosition <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ]<span style="color:#f92672">-&gt;</span>{<span style="color:#e6db74">&#39;nextPosition&#39;</span>};
    $swordPosition <span style="color:#f92672">=</span> $aPeople[ $killPosition <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ]<span style="color:#f92672">-&gt;</span>{<span style="color:#e6db74">&#39;nextPosition&#39;</span>};
    $numberPeopleAlive<span style="color:#f92672">--</span>;
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Last Position Alive : $swordPosition\n&#34;</span>;
</code></pre></div><p>This is a good, explicit example of a linked list implementation using an array of hash refs.</p>
<h2 id="andrezgz1">Andrezgz</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/andrezgz/perl/ch-1.pl">Andrezgz&rsquo;s solution</a> works with an array of ints and also uses <code>splice</code> to remove victims of the sword.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @people <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">50</span>);
<span style="color:#66d9ef">my</span> $killed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">while</span> (@people <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    $killed <span style="color:#f92672">-=</span> @people <span style="color:#66d9ef">if</span> <span style="color:#f92672">++</span>$killed <span style="color:#f92672">&gt;</span> $#people;
    printf <span style="color:#e6db74">&#39;%2d kills %-2d&#39;</span><span style="color:#f92672">.</span>$/, $people[$killed<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], $people[$killed];
    splice @people, $killed, <span style="color:#ae81ff">1</span>;
}
<span style="color:#75715e"># The Highlander, there can be only one</span>
printf $/<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;%d is the survivor&#39;</span>,@people;
</code></pre></div><p>I remove most code comments in these reviews, but the &ldquo;Highlander&rdquo; comment was too good to omit.</p>
<h2 id="cheok-yin-fung1">Cheok-Yin Fung</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/cheok-yin-fung/perl/ch-1.pl">Cheok-Yin Fung&rsquo;s solution</a> stores an array of 1s, one for every person who is alive. The <code>nextalive</code> sub skips over all zeroes and returns the index of the first 1 found:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $n <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> @ppl <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>) x $n;
<span style="color:#66d9ef">my</span> $swordposition;
$swordposition <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">nextalive</span> {
    <span style="color:#66d9ef">my</span> $temp <span style="color:#f92672">=</span> $_[<span style="color:#ae81ff">0</span>];
    <span style="color:#66d9ef">do</span> {
        $temp <span style="color:#f92672">=</span> ($temp<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) % <span style="color:#960050;background-color:#1e0010">$</span>n;
    } <span style="color:#66d9ef">until</span> ($ppl[$temp] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>);
    $temp;
}
</code></pre></div><p>The <code>killing</code> sub is efficient in its brutality:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">killing</span> {
    $ppl[<span style="color:#f92672">&amp;</span>nextalive($_[<span style="color:#ae81ff">0</span>])] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
    <span style="color:#66d9ef">my</span> $soldier <span style="color:#f92672">=</span> $swordposition;
    <span style="color:#f92672">&amp;</span>killing($swordposition); <span style="color:#75715e"># print &#34;one man has been killed. \n&#34;;</span>
        $swordposition <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>nextalive($soldier);
}
<span style="color:#66d9ef">print</span> <span style="color:#f92672">&amp;</span>nextalive<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</code></pre></div><h2 id="colin-crain1">Colin Crain</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/colin-crain/perl/ch-1.pl">Colin Crain&rsquo;s solution</a> opens with a heavy dose of Colin&rsquo;s colourful commentary I&rsquo;ve come to appreciate. I&rsquo;m not going to spoil it with excerpts; please click on the source link to see the whole thing. That being said, the comments I&rsquo;ve left in (below) might give you a taste:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $victims <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;  <span style="color:#75715e">## I think the last person standing still qualifies as a victim in this</span>
                   <span style="color:#75715e">## psychopath&#39;s fever-dream battle royal</span>
<span style="color:#66d9ef">my</span> @circle <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$victims<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
say join <span style="color:#e6db74">&#34;, &#34;</span>, @circle;
<span style="color:#66d9ef">my</span> $next <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">while</span> ( scalar @circle <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> ) {
    $next <span style="color:#f92672">=</span> <span style="color:#f92672">++</span>$next % scalar @circle;    <span style="color:#75715e">## find the next target position</span>
    splice @circle, $next, <span style="color:#ae81ff">1</span>;            <span style="color:#75715e">## do the dirty deed and the next person slide into that spot</span>
    say join <span style="color:#e6db74">&#34;  &#34;</span>, @circle;              <span style="color:#75715e">## not necessary but makes the progression visible</span>
}
say <span style="color:#e6db74">&#34;survivor: &#34;</span>, $circle[<span style="color:#ae81ff">0</span>], <span style="color:#e6db74">&#34;\n&#34;</span>;
</code></pre></div><p>Oh, right. I&rsquo;m supposed to be reviewing the code. Colin&rsquo;s code is great. We&rsquo;ve got the <code>splice</code> approach again, here, with some modulo arithmetic to keep the <code>$next</code> index within the circle.</p>
<p>Colin then packaged the <code>while</code> loop and <code>@circle</code>, above, into a <code>survivor</code> sub (not shown, but very similar to above code), and explored who the survivor is for circle sizes of 2..100 people:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">2</span><span style="color:#f92672">..</span><span style="color:#ae81ff">100</span>) {
    printf <span style="color:#e6db74">&#34;%2d --&gt; %d\n&#34;</span>, $_, survivor($_);
}
</code></pre></div><h2 id="dave-cross1">Dave Cross</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/dave-cross/perl/ch-1.pl">Dave Cross&rsquo; solution</a> is both highly modular and about as self-documenting as it gets:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @people            <span style="color:#f92672">=</span> ( undef, (<span style="color:#ae81ff">1</span>) x <span style="color:#ae81ff">50</span> );
<span style="color:#66d9ef">my</span> $person_with_sword <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">while</span> () {
    kill_someone( $person_with_sword, <span style="color:#f92672">\</span>@people );
    <span style="color:#66d9ef">last</span> <span style="color:#66d9ef">unless</span> more_than_one_person(@people);
    $person_with_sword <span style="color:#f92672">=</span> hand_over_sword( $person_with_sword, <span style="color:#f92672">\</span>@people );
}
say <span style="color:#e6db74">&#34;Last living person is #$person_with_sword&#34;</span>;
</code></pre></div><p><code>@people</code> is an array of 1s, and people who are killed are changed to zero.  Dave passes around a ref to <code>@people</code> to avoid using a global, while allowing the subs to mutate the contents:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">more_than_one_person</span> {
    <span style="color:#66d9ef">my</span> $count <span style="color:#f92672">=</span> grep { $_ } @_;
    <span style="color:#66d9ef">return</span> $count <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>;
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">get_next_living_person</span> {
    <span style="color:#66d9ef">my</span> ( $curr_person, $people ) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
        <span style="color:#f92672">++</span>$curr_person;
        $curr_person <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> $curr_person <span style="color:#f92672">&gt;</span> $#$people;
        <span style="color:#66d9ef">return</span> $curr_person <span style="color:#66d9ef">if</span> $people<span style="color:#f92672">-&gt;</span>[$curr_person];
    }
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">kill_someone</span> {
    <span style="color:#66d9ef">my</span> ( $curr_person, $people ) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">my</span> $person_to_kill <span style="color:#f92672">=</span> get_next_living_person( $curr_person, $people );
    $people<span style="color:#f92672">-&gt;</span>[$person_to_kill] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">return</span> $person_to_kill;
}

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">hand_over_sword</span> {
    <span style="color:#66d9ef">my</span> ( $curr_person, $people ) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">return</span> get_next_living_person( $curr_person, $people );
}
</code></pre></div><h2 id="dave-jacoby1">Dave Jacoby</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/dave-jacoby/perl/ch-1.pl">Dave Jacoby&rsquo;s solution</a> is the first example we will see that uses <code>push</code> and <code>shift</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">while</span> ( scalar @x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> ) {
    push @x, shift @x; <span style="color:#75715e"># move killer to the end</span>
    shift @x; <span style="color:#75715e"># killer gets next</span>
}
say join <span style="color:#e6db74">&#39;,&#39;</span>, @x;
</code></pre></div><p>Note that the <code>push @x, shift @x</code> line simply moves the first element to the end. For example, <code>(1, 2, 3, 4, 5)</code> would become <code>(2, 3, 4, 5, 1)</code>, a rotation.</p>
<p>The next line then <code>shift</code>s the first element, removing <code>2</code> in this case.</p>
<p>This is a great Perlish solution to the problem.</p>
<h2 id="duane-powell1">Duane Powell</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/duane-powell/perl/ch-1.pl">Duane Powell&rsquo;s solution</a> uses a circular linked list:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $SWORDSMAN <span style="color:#f92672">=</span> shift <span style="color:#f92672">||</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">use</span> constant {
    KILL     <span style="color:#f92672">=&gt;</span> undef,
        NO_SWORD <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">0</span>,
        SWORD    <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>,
};
<span style="color:#75715e"># Swordsman constructor</span>
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">new_swordsman</span> {
    <span style="color:#66d9ef">my</span> $name  <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> $armed <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">return</span> {name <span style="color:#f92672">=&gt;</span> $name, armed <span style="color:#f92672">=&gt;</span> $armed, <span style="color:#66d9ef">next</span> <span style="color:#f92672">=&gt;</span> undef};
}
<span style="color:#75715e"># Create a set of swordsman and arrange them in a cirle</span>
<span style="color:#66d9ef">my</span> $first_swordsman <span style="color:#f92672">=</span> new_swordsman(<span style="color:#ae81ff">1</span>, SWORD);
<span style="color:#66d9ef">my</span> $swordsman <span style="color:#f92672">=</span> $first_swordsman;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $s (<span style="color:#ae81ff">2</span> <span style="color:#f92672">..</span> $SWORDSMAN) {
    <span style="color:#66d9ef">my</span> $next <span style="color:#f92672">=</span> new_swordsman($s, NO_SWORD);
    <span style="color:#75715e"># expand the circle and continue</span>
    $swordsman<span style="color:#f92672">-&gt;</span>{<span style="color:#66d9ef">next</span>} <span style="color:#f92672">=</span> $next;
    $swordsman <span style="color:#f92672">=</span> $next;
}
<span style="color:#75715e"># Complete the cirle by linking last swordsman to the first</span>
$swordsman<span style="color:#f92672">-&gt;</span>{<span style="color:#66d9ef">next</span>} <span style="color:#f92672">=</span> $first_swordsman;
</code></pre></div><p>With that set up, Duane uses what basically amounts to a &ldquo;last person standing&rdquo; loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$swordsman <span style="color:#f92672">=</span> $first_swordsman;
<span style="color:#66d9ef">until</span> ($swordsman<span style="color:#f92672">-&gt;</span>{<span style="color:#66d9ef">next</span>} <span style="color:#f92672">==</span> $swordsman) {
    <span style="color:#66d9ef">my</span> $condemned <span style="color:#f92672">=</span> $swordsman<span style="color:#f92672">-&gt;</span>{<span style="color:#66d9ef">next</span>}; <span style="color:#75715e"># ID the condemned</span>
    <span style="color:#66d9ef">my</span> $next <span style="color:#f92672">=</span> $condemned<span style="color:#f92672">-&gt;</span>{<span style="color:#66d9ef">next</span>};      <span style="color:#75715e"># ID who gets the SWORD next</span>
    $condemned <span style="color:#f92672">=</span> KILL;                  <span style="color:#75715e"># execute the condemned</span>
    $swordsman<span style="color:#f92672">-&gt;</span>{armed} <span style="color:#f92672">=</span> NO_SWORD;     <span style="color:#75715e"># pass the sword, not needed but fun to simulate</span>
    $next<span style="color:#f92672">-&gt;</span>{armed} <span style="color:#f92672">=</span> SWORD;
    <span style="color:#75715e"># contract the circle and continue</span>
    $swordsman<span style="color:#f92672">-&gt;</span>{<span style="color:#66d9ef">next</span>} <span style="color:#f92672">=</span> $next;
    $swordsman <span style="color:#f92672">=</span> $next;
}
say <span style="color:#e6db74">&#34;$SWORDSMAN Swordsman arranged in a circle, the last man standing is Swordsman &#34;</span> <span style="color:#f92672">.</span> $swordsman<span style="color:#f92672">-&gt;</span>{name};
</code></pre></div><p>This is a fairly standard linked list implementation using hash refs as elements, with <code>next =&gt;</code> refs to other elements. Perl makes this easy.</p>
<h2 id="duncan-c-white1">Duncan C. White</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/duncan-c-white/perl/ch-1.pl">Duncan C. White&rsquo;s solution</a> starts with an integer array and then loops through using <code>splice</code> as the &ldquo;slice&rdquo; method.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Function::Parameters;
fun survivor( $n ) {
    <span style="color:#66d9ef">my</span> @alive <span style="color:#f92672">=</span> ( <span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$n );  <span style="color:#75715e"># @alive list of person numbers still alive</span>
    <span style="color:#66d9ef">my</span> $pos <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;            <span style="color:#75715e"># position in @alive</span>
    <span style="color:#66d9ef">my</span> $nalive <span style="color:#f92672">=</span> $n;        <span style="color:#75715e"># number of people still alive</span>
    <span style="color:#66d9ef">while</span>( $nalive<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span> ) {
        <span style="color:#75715e"># person at pos $pos kills person next to him</span>
        <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> $alive[$pos];
        <span style="color:#66d9ef">my</span> $nextpos <span style="color:#f92672">=</span> $pos<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
        $nextpos <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> $nextpos<span style="color:#f92672">&gt;</span>$#alive;
        <span style="color:#66d9ef">my</span> $j <span style="color:#f92672">=</span> $alive[$nextpos];
        splice( @alive, $nextpos, <span style="color:#ae81ff">1</span> );
        $nalive<span style="color:#f92672">--</span>;
        <span style="color:#75715e"># hand sword on</span>
        $pos<span style="color:#f92672">++</span>;
        $pos <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> $pos<span style="color:#f92672">&gt;</span>$#alive;
        <span style="color:#66d9ef">my</span> $k <span style="color:#f92672">=</span> $alive[$pos];
    }
    <span style="color:#66d9ef">return</span> $alive[<span style="color:#ae81ff">0</span>];
}
</code></pre></div><h2 id="e-choroba1">E. Choroba</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/e-choroba/perl/ch-1.pl">E. Choroba&rsquo;s solution</a> also uses <code>splice</code>, but presents a compact solution thanks to taking advantage of modulo arithmetic:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @people <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> $sword <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">while</span> (@people <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    $sword <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> $sword) % <span style="color:#960050;background-color:#1e0010">@</span>people;
    splice @people, $sword, <span style="color:#ae81ff">1</span>;
    $sword %<span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#960050;background-color:#1e0010">@</span>people;
}
say $people[<span style="color:#ae81ff">0</span>];
</code></pre></div><p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/02/perl-weekly-challenge-048-survivor-and-palindrome-dates.html">Survivor and Palindrome Dates</a></p>
<h2 id="ianrifkin1">Ian Rifkin</h2>
<p><strong>Ian Rifkin</strong> is a new member of the Challenge. Welcome, Ian!</p>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/ianrifkin/perl/ch-1.pl">Ian Rifkin&rsquo;s solution</a> uses the <code>push</code>/<code>shift</code> and <code>shift</code> method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $num_people <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> @people;
<span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$num_people) {
    $people[$_] <span style="color:#f92672">=</span> $_;
}
<span style="color:#66d9ef">my</span> $curr <span style="color:#f92672">=</span> shift @people;
<span style="color:#66d9ef">while</span> (scalar(@people) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    <span style="color:#66d9ef">my</span> $curr <span style="color:#f92672">=</span> shift @people;
    push @people, $curr;
    <span style="color:#66d9ef">my</span> $curr <span style="color:#f92672">=</span> shift @people;
    <span style="color:#66d9ef">next</span>;
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;\n***** The lone survivor is @people *****\n\n&#34;</span>;
</code></pre></div><p>As Ian&rsquo;s first submission, I&rsquo;m impressed. The code has all the markers I look for in using the language, while being comprehensible and styled in a way that is easy to look at.</p>
<h2 id="jaldhar-h-vyas1">Jaldhar H. Vyas</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/jaldhar-h-vyas/perl/ch-1.pl">Jaldhar H. Vyas&rsquo;s solution</a> stores the <code>@people</code> in an array. If person <code>$n</code> is alive, <code>$people[$n] == $n - 1</code>. If that person is dead, <code>$people[$n] == undef</code>. To find the next person, Jaldhar simply loops until <code>$people[$next]</code> is defined:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @people <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">49</span>);
<span style="color:#66d9ef">my</span> $remaining <span style="color:#f92672">=</span> scalar @people;
<span style="color:#66d9ef">my</span> $next <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">my</span> $victim <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">while</span> ($remaining <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    $people[$victim] <span style="color:#f92672">=</span> undef;
    $remaining<span style="color:#f92672">--</span>;
    <span style="color:#66d9ef">do</span> {
        $next <span style="color:#f92672">=</span> ($next <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) % 50;
    } <span style="color:#66d9ef">until</span> defined $people[$next];
    $victim <span style="color:#f92672">=</span> $next;
    <span style="color:#66d9ef">do</span> {
        $victim <span style="color:#f92672">=</span> ($victim <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) % 50;
    } <span style="color:#66d9ef">until</span> defined $people[$victim];
}
say <span style="color:#f92672">+</span>(grep { defined $_; } @people)[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</code></pre></div><p>With the 0-based indexing, Jaldhar simply adds 1 to the result to get the proper 1-based answer.</p>
<h2 id="javier-luque1">Javier Luque</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/javier-luque/perl/ch-1.pl">Javier Luque&rsquo;s solution</a> stores 1..50 in <code>@people</code> and then leaves their fate to <code>kill_and_switch</code>, which uses the <code>push</code>/<code>shift</code>, <code>shift</code> technique:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @people;
$people[$_] <span style="color:#f92672">=</span> $_ <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">49</span>);
kill_and_switch(<span style="color:#f92672">\</span>@people) <span style="color:#66d9ef">while</span> (scalar(@people <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>));
say $people[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34; is still alive&#34;</span>;

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">kill_and_switch</span> {
    <span style="color:#66d9ef">my</span> $people <span style="color:#f92672">=</span> shift;
    <span style="color:#75715e"># switch</span>
    push @$people, shift @$people;
    <span style="color:#75715e"># kill</span>
    shift @$people;
}
</code></pre></div><p><strong>Blog</strong> › <a href="https://perlchallenges.wordpress.com/2020/02/17/perl-weekly-challenge-048/">048 – Perl Weekly Challenge</a></p>
<h2 id="laurent-rosenfeld1">Laurent Rosenfeld</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/laurent-rosenfeld/perl/ch-1.pl">Laurent Rosenfeld&rsquo;s solution</a> uses the <code>push</code>/<code>shift</code>, <code>shift</code> technique as well:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $number <span style="color:#f92672">=</span> shift <span style="color:#e6db74">//</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> @persons <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $number;
<span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span> $number <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) {
    push @persons, shift @persons;
    shift @persons;
}
say <span style="color:#e6db74">&#34;Person @persons is the survivor.\n&#34;</span>;
</code></pre></div><p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/laurent_r/2020/02/perl-weekly-challenge-48-survivor-and-palindrome-dates.html">Survivor and Palindrome Dates</a></p>
<h2 id="lubos-kolouch1">Lubos Kolouch</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/lubos-kolouch/perl/ch-1.pl">Lubos Kolouch&rsquo;s solution</a> has a <code>get_last_man_standing</code> sub that sets up a <code>%people</code> hash (<code>exists $people{$i}</code> <em>iff</em> person <code>$i</code> is alive):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">get_last_man_standing</span> {
    <span style="color:#66d9ef">my</span> $count <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> %people;
    <span style="color:#66d9ef">for</span> ( <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $count ) {
        $people{$_} <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    }
    <span style="color:#66d9ef">my</span> $last   <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">my</span> $switch <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">while</span> (%people) {
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $key ( sort { $a <span style="color:#e6db74">&lt;=&gt;</span> $b } keys %people ) {
            delete $people{$key} <span style="color:#66d9ef">if</span> $switch;
            $last   <span style="color:#f92672">=</span> $key;
            $switch <span style="color:#f92672">=</span> $switch <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> ? <span style="color:#ae81ff">1</span> : <span style="color:#ae81ff">0</span>;
        }
    }
    <span style="color:#66d9ef">return</span> $last;
}
<span style="color:#66d9ef">my</span> $people_count <span style="color:#f92672">=</span> $ARGV[<span style="color:#ae81ff">0</span>];
say get_last_man_standing($people_count);
</code></pre></div><p>The <code>while</code> loop keeps going until <code>%people</code> is empty (so even the survivor is killed! But fortunately their spirit remains, in <code>$last</code>). The inner loop works on a numerically <code>sort</code>ed list of <code>keys %people</code>. The <code>$switch</code> variable is the key, here: by toggling <code>$switch</code>, Lubos ensures that only every other person is killed, each time through the loop, which is exactly how the Josepheus/survivor problem works, if you try it out for yourself.</p>
<h2 id="markus-holzer1">Markus Holzer</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/markus-holzer/perl/ch-1.pl">Markus Holzer&rsquo;s solution</a> uses <code>splice</code> and <code>push</code> together in an interesting way:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @men <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">while</span> ( @men <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> ) { push @men, <span style="color:#66d9ef">my</span> ($d,) <span style="color:#f92672">=</span> splice @men, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span> }
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Survivor: @men&#34;</span>;
</code></pre></div><p>First, notice <code>splice @men, 0, 2</code> removes the first <em>two</em> elements from <code>@men</code>, replacing them with nothing.</p>
<p>Next, in <code>push @men, my ($d,) = </code>, the <code>my ($d)</code> takes the first element (effectively gobbling up the second), so only the first element is pushed to the end of the array. (The comma after <code>$d</code> does nothing.)</p>
<p>This is probably easier to understand in motion. For <em>n</em> = 5, it results in the following sequence:</p>
<pre><code>1,2,3,4,5
3,4,5,1
5,1,3
3,5
3
</code></pre><p>You may have noticed that this is exactly the same sequence you get with the <code>shift</code>/<code>push</code>, <code>shift</code> method, just written with different builtins.</p>
<h2 id="mohammad-anwar1">Mohammad S Anwar</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/mohammad-anwar/perl/ch-1.pl">Mohammad S Anwar&rsquo;s solution</a> uses <code>shift</code> and <code>push</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> warnings;
<span style="color:#66d9ef">my</span> @people <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span><span style="color:#ae81ff">50</span>);
<span style="color:#66d9ef">while</span> (scalar(@people) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    <span style="color:#66d9ef">my</span> $sword <span style="color:#f92672">=</span> shift @people;
    shift @people;
    push @people, $sword;
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Survivor is at position $people[0]\n&#34;</span>;
</code></pre></div><p><em>I am really glad to see Mohammad not only participating in the challenge, but now blogging about his solutions as well! His first blog post (below) covers the past three weeks (Weeks 046, 047, and 048), and is a good introspective look at Mohammad&rsquo;s experience contributing solutions in Perl and his early steps in translating those solutions (and, I think, parts of his brain!) to Raku:</em></p>
<p><strong>Blog</strong> › <a href="https://perlweeklychallenge.org/blog/my-first-date-with-raku">My first date with Raku</a></p>
<h2 id="phillip-harris1">Phillip Harris</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/phillip-harris/perl/ch-1.pl">Phillip Harris&rsquo;s solution</a> uses a brute force looping method to iterate over the <code>@ppl</code> array, which is filled with the following symbols:</p>
<pre><code>K - The killer      P - Living person       V - Victim
</code></pre><p>Here is the loop (with some <code>print</code> statements trimmed out):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">while</span> () {
    <span style="color:#75715e">#Find next victim</span>
    <span style="color:#66d9ef">until</span> ( $ppl[$x] <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;P&#34;</span> ) {
        $x<span style="color:#f92672">++</span>;
        <span style="color:#66d9ef">if</span> ( $x <span style="color:#f92672">&gt;</span> $numppl ) { $x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> }
    }
    $ppl[$x] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;V&#34;</span>;
    $ppl[$x] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;_&#34;</span>;

    <span style="color:#75715e">#Find next killer</span>
    <span style="color:#66d9ef">until</span> ( $ppl[$x] <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;P&#34;</span> ) {
        $x<span style="color:#f92672">++</span>;
        <span style="color:#66d9ef">if</span> ( $x <span style="color:#f92672">==</span> $killer ) {    <span style="color:#75715e"># only the killer remains</span>
            <span style="color:#66d9ef">print</span> $x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34; survives\n&#34;</span>;
            exit;
        }
        <span style="color:#66d9ef">if</span> ( $x <span style="color:#f92672">&gt;</span> $numppl ) { $x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> }
    }
    $ppl[$x]      <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;K&#34;</span>;
    $ppl[$killer] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;P&#34;</span>;
    $killer       <span style="color:#f92672">=</span> $x;
}
</code></pre></div><p>Phillip&rsquo;s solution not only finds the survivor, it provides an ASCII visualization of each step of the result (shown here for 11 people):</p>
<pre><code>KVPPPPPPPPP
P_KVPPPPPPP
P_P_KVPPPPP
P_P_P_KVPPP
P_P_P_P_KVP
V_P_P_P_P_K
__K_V_P_P_P
__P___K_V_P
__V___P___K
______K___V
1234567890
Person 7 survives
</code></pre><h2 id="roger-bell-west1">Roger Bell West</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/roger-bell-west/perl/ch-1.pl">Roger Bell West&rsquo;s solution</a> <code>splice</code>s its way to a final victim:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @list <span style="color:#f92672">=</span> ( <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span> );
<span style="color:#66d9ef">my</span> $n    <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">while</span> ( scalar @list <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> ) {
    $n<span style="color:#f92672">++</span>;
    <span style="color:#66d9ef">if</span> ( $n <span style="color:#f92672">&gt;</span> $#list ) {
        $n <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }
    splice @list, $n, <span style="color:#ae81ff">1</span>;
}
<span style="color:#66d9ef">print</span> $list[<span style="color:#ae81ff">0</span>], <span style="color:#e6db74">&#34;\n&#34;</span>;
</code></pre></div><p>Unfortunately, the wrong person comes away a survivor (the result of a conspiracy, perhaps?). This is because there is an off-by-one error in the index wrap-around code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">    $n<span style="color:#f92672">++</span>;
    <span style="color:#66d9ef">if</span> ( $n <span style="color:#f92672">&gt;</span> $#list ) {
        $n <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }
</code></pre></div><p>This correctly sets the index back to 0 if we hit the end of the list, but if we were already at the end of the list, the index should be 1, not 0. Changing <code>$n = 0</code> to <code>$n -= @list</code> fixes the problem. <code>$n = ($n + 1) % @list</code> also works.</p>
<h2 id="ruben-westerberg1">Ruben Westerberg</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/ruben-westerberg/perl/ch-1.pl">Ruben Westerberg&rsquo;s solution</a> also uses <code>splice</code>, but is really crunched down into compact form, with some help from the modulo operator:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @sur<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> $i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
splice @sur, $i<span style="color:#f92672">=</span>($i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)%@sur,<span style="color:#ae81ff">1</span> <span style="color:#66d9ef">while</span> @sur <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Survivor: $sur[0]\n&#34;</span>
</code></pre></div><h2 id="ryan-thompson1">Ryan Thompson</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/ryan-thompson/perl/ch-1.pl">My solution</a> is in two parts. First, a circular linked list version:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @ll <span style="color:#f92672">=</span> (undef, <span style="color:#ae81ff">2</span><span style="color:#f92672">..</span>$N, <span style="color:#ae81ff">1</span>); <span style="color:#75715e"># Circular linked list</span>
<span style="color:#66d9ef">my</span> $cur <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
$ll[$cur] <span style="color:#f92672">=</span> $ll[$ll[$cur]], $cur <span style="color:#f92672">=</span> $ll[$cur] <span style="color:#66d9ef">until</span> $ll[$cur] <span style="color:#f92672">==</span> $cur;
say $cur;
</code></pre></div><p>A linked list is a high level description of a data structure. The underlying implementation can vary, and in this case, I&rsquo;m using an array of numbers. The array <em>index</em> is the current person, and the <em>value</em> at that index is the <em>next</em> person in the linked list. I&rsquo;m using two linked list operations, here (<code>$cur</code> is the &ldquo;cursor&rdquo;, or index of the current element):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">$ll[$cur] <span style="color:#f92672">=</span> $ll[$ll[$cur]]  <span style="color:#75715e"># &#34;delete&#34; -- Delete element to the right</span>
    $cur  <span style="color:#f92672">=</span> $ll[    $cur ]  <span style="color:#75715e"># &#34;next&#34;   -- Go to next element in list</span>
</code></pre></div><hr>
<p>For my second solution, I went ahead and derived a constant-time formula:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> ($N <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">**</span>int( log($N) <span style="color:#f92672">/</span> log(<span style="color:#ae81ff">2</span>) )) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</code></pre></div><p>(This analytic version ran nearly 30x faster than the linked list version, which is actually good news for the linked list version; I thought it&rsquo;d be slower!)</p>
<p><strong>Blog</strong> › <a href="http://www.ry.ca/2020/02/survivor-josepheus-problem/">Survivor (Josepheus problem)</a></p>
<h2 id="saiftynet1">Saif Ahmed</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/saiftynet/perl/ch-1.pl">Saif Ahmed&rsquo;s solution</a> really went above and beyond this week. The solution uses <code>shift</code>/<code>push</code> to get the survivor, which is all well and good, but then Saif decided to animate it by using <code>clear</code>/<code>cls</code> and then redrawing, plotting all of the victims in an ever-shrinking circle. Here&rsquo;s one &ldquo;frame&rdquo;:</p>
<pre><code>                          13    11    9    7    5    3
                17  15                                      1
            19                                                    50
                                                                    49
        21                                                              48
      23                                                                  47
    25
                                                                          46
    27                                                                    45
    28
      29                                                                  44
        30                                                              43
                                                                    42
          31                                                    41
                32  33                                      40
                          34    35    36    37    38    39

27 killed 28 and passed sword to 29
</code></pre><p>Unfortunately, I can&rsquo;t show the animation here, so I encourage you to try his solution yourself.</p>
<p>We&rsquo;ve seen the <code>shift</code>/<code>push</code> method to find the survivor already, so I&rsquo;ll show Saif&rsquo;s <code>circle</code> sub instead, which plots all of the living victims in an ellipsoid:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">circle</span> {
    <span style="color:#66d9ef">my</span> $circleList <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> @plotArea   <span style="color:#f92672">=</span> ();      <span style="color:#75715e"># reset plot area</span>
    push @plotArea, [ (<span style="color:#e6db74">&#34;  &#34;</span>) x <span style="color:#ae81ff">40</span>, <span style="color:#e6db74">&#34;\n&#34;</span> ]
      <span style="color:#66d9ef">foreach</span> ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">16</span> );    <span style="color:#75715e"># two spaces per point</span>
    <span style="color:#66d9ef">my</span> $center <span style="color:#f92672">=</span> [ <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">20</span> ];   <span style="color:#75715e"># adjust for different console sizes</span>
    <span style="color:#66d9ef">my</span> $radius <span style="color:#f92672">=</span> [ <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">18</span> ];   <span style="color:#75715e"># adjust for different console sizes</span>
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $angle ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">..</span> @$circleList <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
        $plotArea[ $$center[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span>
          $$radius[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> sin( $angle <span style="color:#f92672">*</span> <span style="color:#ae81ff">6.28</span> <span style="color:#f92672">/</span> @$circleList ) ]
          [ $$center[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> $$radius[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> cos( $angle <span style="color:#f92672">*</span> <span style="color:#ae81ff">6.28</span> <span style="color:#f92672">/</span> @$circleList ) ] <span style="color:#f92672">=</span>
          $$circleList[$angle];
    }
    <span style="color:#66d9ef">print</span> @{$_} <span style="color:#66d9ef">foreach</span> (@plotArea);    <span style="color:#75715e"># the plot area</span>
}
</code></pre></div><h2 id="southpawgeek1">Jen Guerra</h2>
<p>Jen Guerra is new to the Challenge. Welcome, Jen!</p>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/southpawgeek/perl/ch-1.pl">Jen Guerra&rsquo;s solution</a> uses <code>push</code>/<code>shift</code> and <code>shift</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $peons <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> @peon;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$peons) {
    push @peon, $i;
}
<span style="color:#66d9ef">while</span> (scalar @peon <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    push @peon, shift @peon;
    shift @peon;
}
say <span style="color:#e6db74">&#34;@peon wins&#34;</span>;
</code></pre></div><p>This is a very solid opening submission from Jen. I look forward to seeing more!</p>
<h2 id="steven-wilson1">Steven Wilson</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/steven-wilson/perl/ch-1.pl">Steven Wilson&rsquo;s solution</a> uses <code>splice</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @circle   <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> $position <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">while</span> ( scalar @circle <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> ) {
    <span style="color:#66d9ef">if</span> ( $position <span style="color:#f92672">&gt;</span> scalar @circle ) {
        $position <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }
    splice @circle, $position, <span style="color:#ae81ff">1</span>;
    $position<span style="color:#f92672">++</span>;
}
say <span style="color:#e6db74">&#34;Survivor is at position $circle[0]&#34;</span>;
</code></pre></div><p>However, the solution gives the wrong answer, due to an off-by-one error in the index wrap code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">    <span style="color:#66d9ef">if</span> ( $position <span style="color:#f92672">&gt;</span> scalar @circle ) {
        $position <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }
</code></pre></div><p>The problem is that <code>@circle</code>'s length changes throughout the loop, so there are actually two possible states: we hit the end of the circle exactly, or we end up one index past the end, depending on whether we were on odd or even indexes. One way to fix this is to subtract the length of <code>@circle</code> from <code>$position</code>, so that <code>$position</code> will be 0 or 1:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">    <span style="color:#66d9ef">if</span> ( $position <span style="color:#f92672">&gt;=</span> @circle ) {
        $position <span style="color:#f92672">-=</span> @circle;
    }
</code></pre></div><p>Another way is to use modulo arithmetic. Combined with the increment step, we can use: <code>$position = ($position + 1) % @circle;</code></p>
<h2 id="ulrich-rieke1">Ulrich Rieke</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/ulrich-rieke/perl/ch-1.pl">Ulrich Rieke&rsquo;s solution</a> uses an array of <code>@people = 1..50</code>, who gradually become <code>'dead'</code>. The <code>findNextAlive</code> sub iterates through to find the position of the next living person in the list:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">findNextAlive</span> {
    <span style="color:#66d9ef">my</span> $pos   <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> $array <span style="color:#f92672">=</span> shift;

    <span style="color:#75715e">#we have to do one step to the right to get away from the last position</span>
    <span style="color:#75715e">#important to wrap around the end of the array if necessary!</span>
    $pos<span style="color:#f92672">++</span>;
    <span style="color:#66d9ef">if</span> ( $pos <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">49</span> ) {
        $pos <span style="color:#f92672">=</span> $pos % 50;
    }
    <span style="color:#66d9ef">while</span> ( ${$array}[$pos] <span style="color:#f92672">!~</span> <span style="color:#e6db74">/\d+/</span> ) {
        $pos<span style="color:#f92672">++</span>;
        <span style="color:#66d9ef">if</span> ( $pos <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">49</span> ) {
            $pos <span style="color:#f92672">=</span> $pos % 50;
        }
    }
    <span style="color:#66d9ef">return</span> $pos;
}
</code></pre></div><p>The main loop then keeps looping, <a href="https://en.wikipedia.org/wiki/Highlander_(film)">Highlander</a> style, until only one remains:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @people   <span style="color:#f92672">=</span> ( <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span> );
<span style="color:#66d9ef">my</span> $sword_at <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">my</span> $size     <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">while</span> ( $size <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span> ) {
    <span style="color:#66d9ef">my</span> $victimpos <span style="color:#f92672">=</span> findNextAlive( $sword_at, <span style="color:#f92672">\</span>@people );
    $people[$victimpos] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dead&#34;</span>;
    $sword_at           <span style="color:#f92672">=</span> findNextAlive( $victimpos, <span style="color:#f92672">\</span>@people );
    $size               <span style="color:#f92672">=</span> scalar grep { $_ <span style="color:#f92672">=~</span><span style="color:#e6db74"> /\d+/</span> } @people;
}
<span style="color:#66d9ef">my</span> @survivors <span style="color:#f92672">=</span> grep { $_ <span style="color:#f92672">=~</span><span style="color:#e6db74"> /\d+/</span> } @people;
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;The last survivor is $survivors[0] !\n&#34;</span>;
</code></pre></div><h2 id="user-person1">User Person</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/user-person/perl/ch-1.pl">User Person&rsquo;s solution</a> provides a complete solution along with <code>Getopt::Long</code> commandline arguments:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Getopt::Long;
GetOptions(<span style="color:#f92672">\</span><span style="color:#66d9ef">my</span> %option, <span style="color:#e6db74">&#39;verbose|v&#39;</span>) <span style="color:#f92672">or</span> die <span style="color:#e6db74">&#34;Bad options\n&#34;</span>;
<span style="color:#66d9ef">my</span> @circle <span style="color:#f92672">=</span> ( <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">50</span> );
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; scalar @circle <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span> ; <span style="color:#f92672">++</span>$i) {
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;i: $i\n&#34;</span> <span style="color:#66d9ef">if</span> $option{verbose};
    <span style="color:#66d9ef">my</span> $victim <span style="color:#f92672">=</span> splice(@circle, $i, <span style="color:#ae81ff">1</span>);
    <span style="color:#66d9ef">if</span> ($option{verbose}) {
        <span style="color:#66d9ef">print</span> $circle[$i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34; killed &#34;</span> <span style="color:#f92672">.</span> $victim <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;\n&#34;</span>;
        <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;@circle\n\n&#34;</span>;
    }
    <span style="color:#66d9ef">if</span> ( $#circle <span style="color:#f92672">-</span> $i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
        $i <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
    } <span style="color:#66d9ef">elsif</span> ( $#circle <span style="color:#f92672">-</span> $i <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
        $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }
}
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;@circle survives\n&#34;</span>;
</code></pre></div><p>Note the last <code>if .. elsif</code>: if you recall the problem that a few people had with odd/even indexes resulting in off-by-one errors when circling around to the start of the array, User Person solves this uniquely by adding logic to look for that exact scenario, and setting the index appropriately.</p>
<h2 id="walt-mankowski1">Walt Mankowski</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/walt-mankowski/perl/ch-1.pl">Walt Mankowski&rsquo;s solution</a> uses <code>splice</code>, and the modulo operator to wrap the index around:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @person <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">while</span> (@person <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    <span style="color:#66d9ef">my</span> $j <span style="color:#f92672">=</span> ($i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) % <span style="color:#960050;background-color:#1e0010">@</span>person;
    splice(@person, $j, <span style="color:#ae81ff">1</span>);
    $i <span style="color:#f92672">=</span> ($i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) % <span style="color:#960050;background-color:#1e0010">@</span>person;
}
say <span style="color:#e6db74">&#34;The survivor is @person&#34;</span>;
</code></pre></div><p>This solution gives the wrong answer (17, expecting 37), because <code>@person</code>'s length changes between the <code>$i</code> and <code>$j</code> assignments, so the index wrap ends up being off by 1 some of the time. (In general, it&rsquo;s really easy to make mistakes like this when you are indexing over a list that changes its length.) Here is how I would fix Walt&rsquo;s solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e"># Ryan&#39;s fix</span>
<span style="color:#66d9ef">my</span> @person <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">50</span>;
<span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">while</span> (@person <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
    $i <span style="color:#f92672">=</span> ($i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) % <span style="color:#960050;background-color:#1e0010">@</span>person;
    splice(@person, $i, <span style="color:#ae81ff">1</span>);
}
</code></pre></div><h2 id="wanderdoc1">Wanderdoc</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/wanderdoc/perl/ch-1.pl">Wanderdoc&rsquo;s solution</a> uses <code>vec</code> to make a bit vector of living people. First up is the <code>rotate</code> sub:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">rotate</span> {
     ${$_[<span style="color:#ae81ff">0</span>]} %<span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#960050;background-color:#1e0010">$</span>par{h} <span style="color:#66d9ef">if</span> ( ${$_[<span style="color:#ae81ff">0</span>]} <span style="color:#f92672">&gt;</span> $par{h} );
}
</code></pre></div><p>This is called with a scalar ref (<code>rotate(\$sword)</code>), and mutates <code>$sword</code> to contain the remainder of <code>$sword / 50</code> (default). Here is the loop that finds the survivor:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> %par <span style="color:#f92672">=</span> (h <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">50</span>, w <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">2</span>, s <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">my</span> $people <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
vec($people, $_, <span style="color:#ae81ff">1</span>) <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $par{h};
<span style="color:#66d9ef">my</span> $sword <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; <span style="color:#75715e"># 1-indexed by specification.</span>
<span style="color:#66d9ef">while</span> ( unpack (<span style="color:#e6db74">&#39;%32b*&#39;</span>, $people) <span style="color:#f92672">&gt;</span> $par{s} ) {
     <span style="color:#66d9ef">my</span> $counter <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
     <span style="color:#66d9ef">while</span> ( $counter <span style="color:#f92672">&lt;</span> $par{w} <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> ) {
          $sword<span style="color:#f92672">++</span>;
          rotate(<span style="color:#f92672">\</span>$sword);
          $counter<span style="color:#f92672">++</span> <span style="color:#66d9ef">if</span>  <span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> vec($people, $sword, <span style="color:#ae81ff">1</span>);
     }
     vec($people, $sword, <span style="color:#ae81ff">1</span>) <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
     <span style="color:#66d9ef">print</span> $sword, <span style="color:#e6db74">&#39; &#39;</span>; <span style="color:#75715e"># To comment out on big numbers!</span>
     $sword<span style="color:#f92672">++</span> <span style="color:#f92672">and</span> rotate(<span style="color:#f92672">\</span>$sword) <span style="color:#66d9ef">while</span> ( <span style="color:#ae81ff">0</span> <span style="color:#f92672">==</span> vec($people, $sword, <span style="color:#ae81ff">1</span>) );
}
<span style="color:#66d9ef">my</span> @survived <span style="color:#f92672">=</span> grep <span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> vec($people, $_, <span style="color:#ae81ff">1</span>), <span style="color:#ae81ff">1</span> <span style="color:#f92672">..</span> $par{h};
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$/Survived: &#34;</span>, join(<span style="color:#e6db74">&#34; &#34;</span>, @survived), $/;
</code></pre></div><p>Aside from using <code>vec</code> instead of array accesses, this solution is similar to the solutions we&rsquo;ve seen that use fixed-length arrays.</p>
<hr>
<hr>
<h1 id="task2">Task #2 - Palindrome Dates</h1>
<p>Write a script to print all Palindrome Dates between 2000 and 2999. The format of date is <strong>mmddyyyy</strong>. For example, the first one was on October 2, 2001 as it is represented as <code>10022001</code>.</p>
<hr>
<p>The solutions from this task can be broken into the following main categories:</p>
<h3 id="solutions-using-date-libraries">Solutions using date libraries</h3>
<p>Many people used one of the various date libraries on CPAN (or core <code>Time::Local</code>) to help them iterate through and/or validate dates they obtained.</p>
<h3 id="solutions-that-did-not-use-date-libraries">Solutions that did not use date libraries</h3>
<p>Others realized that, in fact, the dates meeting the specification can be validated very easily without using a date library, if you are careful with how you set up your loops.</p>
<hr>
<h2 id="alexander-karelas2">Alexander Karelas</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/alexander-karelas/perl/ch-2.pl">Alexander Karelas&rsquo;s solution</a> uses <code>Time::Local</code> to reject invalid dates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Time::Local;
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">my</span> $year <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span>; $year <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2999</span>; $year<span style="color:#f92672">++</span>) {
    <span style="color:#66d9ef">my</span> ($day, $month) <span style="color:#f92672">=</span> (reverse $year) <span style="color:#f92672">=~</span><span style="color:#e6db74"> /(..)(..)/</span>;
    eval { timegm(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, $day, $month <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, $year <span style="color:#f92672">-</span> <span style="color:#ae81ff">1900</span>) };
    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span> $@) {
        say reverse($year) <span style="color:#f92672">.</span> $year;
    }
}
</code></pre></div><p>Alexander flipped <code>my ($day, $month)</code>, so the results are not correct, but simply changing that to <code>my ($month, $day)</code> gives the right results for the required <code>mmddyyyy</code> dates.</p>
<h2 id="alicia-bielsa2">Alicia Bielsa</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/alicia-bielsa/perl/ch-2.pl">Alicia Bielsa&rsquo;s solution</a> uses <code>DateTime</code> and <a href="https://metacpan.org/pod/Try::Tiny"><code>Try::Tiny</code></a> to validate dates, trying each year:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> DateTime;
<span style="color:#66d9ef">use</span> Try::Tiny;
<span style="color:#66d9ef">use</span> English;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $date (<span style="color:#ae81ff">2000</span><span style="color:#f92672">..</span><span style="color:#ae81ff">2999</span>){
    <span style="color:#66d9ef">my</span> $palindromeDate <span style="color:#f92672">=</span> reverse($date)<span style="color:#f92672">.</span>$date;
    <span style="color:#66d9ef">if</span> (isValidDate ($palindromeDate )){
            <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Palindrome Date $palindromeDate \n&#34;</span>;
    }
}
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">isValidDate</span> {
    <span style="color:#66d9ef">my</span> $dateToValidate <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> $validDate <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">my</span> $dt <span style="color:#f92672">=</span> try {
         DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(
        year       <span style="color:#f92672">=&gt;</span> substr($dateToValidate, <span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">4</span>),
        month      <span style="color:#f92672">=&gt;</span> substr($dateToValidate, <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">2</span>),
        day        <span style="color:#f92672">=&gt;</span> substr($dateToValidate, <span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>));
    } catch {
        <span style="color:#66d9ef">if</span> ($ARG){
            $validDate <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        }
    };
    <span style="color:#66d9ef">return</span> $validDate;
}
</code></pre></div><h2 id="andrezgz2">Andrezgz</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/andrezgz/perl/ch-2.pl">Andrezgz&rsquo;s solution</a> validates dates, but does so with a custom <code>is_valid_dom</code> (day of month) sub, that handles days in every month, including leap days:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_valid_dom</span> {
    <span style="color:#66d9ef">my</span> ($y, $m, $d) <span style="color:#f92672">=</span> @_;
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">if</span> $d <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> $d <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span> <span style="color:#f92672">||</span> $m <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> $m <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>; <span style="color:#75715e"># impossible days/months</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">if</span> $d <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">30</span>  <span style="color:#f92672">&amp;&amp;</span> grep {$m <span style="color:#f92672">==</span> $_} (<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">11</span>); <span style="color:#75715e"># 30-day months</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">if</span> $d <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">29</span>  <span style="color:#f92672">&amp;&amp;</span> $m <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>;                    <span style="color:#75715e"># 28-day February</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">if</span> $d <span style="color:#f92672">==</span> <span style="color:#ae81ff">29</span> <span style="color:#f92672">&amp;&amp;</span> $m <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>                     <span style="color:#75715e"># 29-day February</span>
              <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span> ($y % 4 <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> ($y % 100 <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> $y % 400 <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) ); <span style="color:#75715e"># not a leap year</span>
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>; <span style="color:#75715e"># valid day for the month and year</span>
}
</code></pre></div><p>The code to check each date, then, just iterates through the years:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1999</span>;
<span style="color:#66d9ef">my</span> @months <span style="color:#f92672">=</span> <span style="color:#e6db74">qw/Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec/</span>;
<span style="color:#66d9ef">while</span> ( <span style="color:#f92672">++</span>$y <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3000</span> ) {
    <span style="color:#75715e"># year is inverted and divided to get month and day</span>
    <span style="color:#66d9ef">my</span> ($m, $d) <span style="color:#f92672">=</span> scalar(reverse $y) <span style="color:#f92672">=~</span> <span style="color:#e6db74">m/../g</span> ;
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">unless</span> is_valid_dom($y, $m, $d);
    <span style="color:#66d9ef">print</span> $months[$m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">.</span> $d <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;, &#39;</span> <span style="color:#f92672">.</span> $y <span style="color:#f92672">.</span>$/;
}
</code></pre></div><p>Andrezgz also pretty-prints the dates with the 3-letter month names, such as <code>Sep 22, 2290</code>.</p>
<h2 id="cheok-yin-fung2">Cheok-Yin Fung</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/cheok-yin-fung/perl/ch-2.pl">Cheok-Yin Fung&rsquo;s solution</a> is the first we&rsquo;ll see to realize that only certain days of the month will ever occur, so date validation is unnecessary:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @dd <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#34;02&#34;</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">22</span>);
<span style="color:#66d9ef">my</span> @ddr <span style="color:#f92672">=</span> (<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">22</span>);
<span style="color:#66d9ef">my</span> @mm;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">11</span>) {
    <span style="color:#66d9ef">if</span> ($i <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">8</span>) {
               $mm[$i] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;0&#34;</span>; $mm[$i] <span style="color:#f92672">.=</span>($i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) ;
    } <span style="color:#66d9ef">else</span> {$mm[$i] <span style="color:#f92672">=</span> $i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;}
}
<span style="color:#66d9ef">my</span> @temp;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $i (@mm) {
    $temp[$i] <span style="color:#f92672">=</span> scalar reverse $i;
}
@temp <span style="color:#f92672">=</span> sort {$a <span style="color:#f92672">cmp</span> $b} @temp;
</code></pre></div><p>With the valid days and months pre-calculated, the valid dates can be printed with a simple nested loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $i (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">2</span>) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $j (<span style="color:#ae81ff">0</span><span style="color:#f92672">..</span><span style="color:#ae81ff">11</span>) {
        <span style="color:#66d9ef">my</span> $ttemp <span style="color:#f92672">=</span> scalar reverse $temp[$j];
        <span style="color:#66d9ef">print</span> $ttemp<span style="color:#f92672">.</span>$dd[$i]<span style="color:#f92672">.</span>$ddr[$i]<span style="color:#f92672">.</span>$temp[$j]<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;\n&#34;</span>;
    }
}
</code></pre></div><h2 id="colin-crain2">Colin Crain</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/colin-crain/perl/ch-2.pl">Colin Crain&rsquo;s solution</a> has a custom <code>validate</code> sub that checks for valid day of month and month numbers, recognizing that leap years need not be considered as that would be the year 9220, outside our range.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">validate</span> {
    <span style="color:#66d9ef">my</span> $test <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">my</span> @mlen  <span style="color:#f92672">=</span> ( <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">29</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">31</span>);
    <span style="color:#66d9ef">my</span> ($m, $d) <span style="color:#f92672">=</span> map {substr($test, $_, <span style="color:#ae81ff">2</span>)} (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> ( $m <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>           <span style="color:#f92672">||</span> $m <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> );
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> ( $d <span style="color:#f92672">&gt;</span> $mlen[$m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]  <span style="color:#f92672">||</span> $d <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> );
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
}
</code></pre></div><p>The main loop then just iterates through the year range and prints the valid
palindromes, with hyphens separating the <code>mm-dd-yyyy</code> parts:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">for</span> ( <span style="color:#ae81ff">2000</span><span style="color:#f92672">..</span><span style="color:#ae81ff">2999</span> ) {
    <span style="color:#66d9ef">my</span> $pal <span style="color:#f92672">=</span> (reverse $_) <span style="color:#f92672">.</span> $_;
    <span style="color:#66d9ef">if</span> ( validate($pal) ) {
        substr($pal, $_, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;-&#34;</span>) <span style="color:#66d9ef">for</span> (<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>);
        say $pal;
    }
}
</code></pre></div><h2 id="dave-cross2">Dave Cross</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/dave-cross/perl/ch-2.pl">Dave Cross&rsquo;s solution</a> makes a deliberate decision to use <code>ddmmyyyy</code> dates instead:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e"># The original question appears to contain a typo as it suggests we use</span>
<span style="color:#75715e"># the illogical &#39;mmddyyyy&#39; date format. My solution uses &#39;ddmmyyyy&#39; instead.</span>
</code></pre></div><p>Dave uses the core <a href="https://perldoc.perl.org/Time/Piece.html"><code>Time::Piece</code></a> module to iterate through every <em>day</em> between January 1, 2000 and Dec 31, 2999, printing out the palindromes:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Time::Piece;
<span style="color:#66d9ef">use</span> Time::Seconds;
<span style="color:#66d9ef">my</span> $fmt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;%d%m%Y&#39;</span>;
<span style="color:#66d9ef">my</span> ( $y, $m, $d ) <span style="color:#f92672">=</span> ( <span style="color:#ae81ff">2000</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span> );
<span style="color:#66d9ef">my</span> $str_date <span style="color:#f92672">=</span> sprintf <span style="color:#e6db74">&#39;%02d%02d%d&#39;</span>, $d, $m, $y;
<span style="color:#66d9ef">my</span> $date     <span style="color:#f92672">=</span> Time::Piece<span style="color:#f92672">-&gt;</span>strptime( $str_date, $fmt );

<span style="color:#66d9ef">while</span> ( $date<span style="color:#f92672">-&gt;</span>year <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2999</span> ) {
    $str_date <span style="color:#f92672">=</span> $date<span style="color:#f92672">-&gt;</span>strftime($fmt);
    <span style="color:#66d9ef">if</span> ( $str_date <span style="color:#f92672">eq</span> reverse $str_date ) {
        say $date<span style="color:#f92672">-&gt;</span>ymd, <span style="color:#e6db74">&#34; is a palindrome ($str_date)&#34;</span>;
    }
    $date <span style="color:#f92672">+=</span> ONE_DAY;
}
</code></pre></div><p><code>Time::Seconds</code> exports the <code>ONE_DAY</code> constant, which I choose to assume without verification, is equal to 86400.</p>
<p>I like the direct approach Dave has taken, here. It does take 3.5 seconds to run on my system, but since this isn&rsquo;t the sort of thing you&rsquo;d need to re-run, that&rsquo;s not really an issue.</p>
<h2 id="dave-jacoby2">Dave Jacoby</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/dave-jacoby/perl/ch-2.pl">Dave Jacoby&rsquo;s solution</a> iterates through the years, and does a quick inline validation to throw out the invalid dates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $year ( <span style="color:#ae81ff">2000</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">2999</span> ) {
    <span style="color:#66d9ef">my</span> $month <span style="color:#f92672">=</span> reverse substr $year, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>;
    <span style="color:#66d9ef">my</span> $day   <span style="color:#f92672">=</span> reverse substr $year, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>;
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $day <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $month <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $day <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span>;
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $month <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>;
    say join <span style="color:#e6db74">&#39;-&#39;</span>, $month, $day, $year;
}
</code></pre></div><p>This validation works, because the day will never exceed 22. Dave sums this up by saying &ldquo;the day of the month can only be a number ending in 2, and there are no months having 32 days&rdquo;.</p>
<h2 id="duane-powell2">Duane Powell</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/duane-powell/perl/ch-2.pl">Duane Powell&rsquo;s solution</a> uses <a href="https://metacpan.org/pod/DateTime"><code>DateTime</code></a> and <a href="https://metacpan.org/pod/DateTime::Duration"><code>DateTime::Duration</code></a> to iterate through each day, and validate those dates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> DateTime;
<span style="color:#66d9ef">use</span> DateTime::Duration;
<span style="color:#66d9ef">my</span> $year_end <span style="color:#f92672">=</span> shift <span style="color:#f92672">||</span> <span style="color:#ae81ff">3000</span>;
<span style="color:#66d9ef">my</span> $dt  <span style="color:#f92672">=</span> DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(<span style="color:#e6db74">&#39;year&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">2000</span>, <span style="color:#e6db74">&#39;month&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;day&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">my</span> $day <span style="color:#f92672">=</span> DateTime::Duration<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(<span style="color:#e6db74">&#39;days&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">until</span> ($dt<span style="color:#f92672">-&gt;</span>year <span style="color:#f92672">==</span> $year_end) {
    <span style="color:#66d9ef">my</span> @pali <span style="color:#f92672">=</span> split(<span style="color:#e6db74">&#39;&#39;</span>,$dt<span style="color:#f92672">-&gt;</span>mdy);
    <span style="color:#75715e"># @pali is a 10 element array MM-DD-YYYY</span>
    say $dt<span style="color:#f92672">-&gt;</span>mdy() <span style="color:#66d9ef">if</span> ($pali[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> $pali[<span style="color:#ae81ff">9</span>] <span style="color:#f92672">and</span> $pali[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> $pali[<span style="color:#ae81ff">8</span>] <span style="color:#f92672">and</span> $pali[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">==</span> $pali[<span style="color:#ae81ff">7</span>] <span style="color:#f92672">and</span> $pali[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">==</span> $pali[<span style="color:#ae81ff">6</span>]);
    $dt<span style="color:#f92672">-&gt;</span>add( $day );
}
</code></pre></div><p>This took 47 seconds to run on my machine.</p>
<h2 id="duncan-c-white2">Duncan C. White</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/duncan-c-white/perl/ch-2.pl">Duncan C. White&rsquo;s solution</a> allows the user to choose between <code>UK</code> (<strong>ddmmyyyy</strong>), <code>ISO</code> (<strong>yyyymmdd</strong>), and <code>US</code> (<strong>mmddyyyy</strong>) date formats, which I quite like.</p>
<p>The <code>palindromic</code> function is rather self-explanatory:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">fun palindromic( $s ) {
    <span style="color:#66d9ef">return</span> $s <span style="color:#f92672">eq</span> reverse($s) ? <span style="color:#ae81ff">1</span> : <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p><code>formdate</code> (not shown) simply takes in a <code>$day, $month, $year</code> and a <code>$format</code>
and returns the date formatted to that specification.</p>
<p>The <code>palindromicdates</code> function loops over every day in the date range:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">fun palindromicdates( $startyear, $endyear, $format ) {
    <span style="color:#66d9ef">my</span> @palindrome;
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $year ($startyear<span style="color:#f92672">..</span>$endyear) {
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $month (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">12</span>) {
            <span style="color:#66d9ef">my</span> $ndays <span style="color:#f92672">=</span> Date_DaysInMonth($month,$year);
            <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $day (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$ndays) {
                <span style="color:#66d9ef">my</span> $date <span style="color:#f92672">=</span> formdate(
                    $day, $month, $year, $format );
                push @palindrome, $date <span style="color:#66d9ef">if</span> palindromic($date);
            }
        }
    }
    <span style="color:#66d9ef">return</span> @palindrome;
}
</code></pre></div><h2 id="e-choroba2">E. Choroba</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/e-choroba/perl/ch-2.pl">E. Choroba&rsquo;s solution</a> uses <code>Time::Piece</code> to validate the dates, iterating one day at a time:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">#! /usr/bin/perl</span>
<span style="color:#66d9ef">use</span> Time::Piece;
<span style="color:#66d9ef">my</span> $date <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Time::Piece&#39;</span><span style="color:#f92672">-&gt;</span>strptime(<span style="color:#e6db74">&#39;2000-01-01&#39;</span>, <span style="color:#e6db74">&#39;%Y-%m-%d&#39;</span>);
<span style="color:#66d9ef">while</span> ($date<span style="color:#f92672">-&gt;</span>year <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3000</span>) {
    <span style="color:#66d9ef">my</span> $formatted <span style="color:#f92672">=</span> $date<span style="color:#f92672">-&gt;</span>strftime(<span style="color:#e6db74">&#39;%m%d%Y&#39;</span>);
    say $date<span style="color:#f92672">-&gt;</span>strftime(<span style="color:#e6db74">&#39;%B %-d, %Y&#39;</span>) <span style="color:#66d9ef">if</span> $formatted <span style="color:#f92672">eq</span> reverse $formatted;
    $date <span style="color:#f92672">+=</span> Time::Seconds::ONE_DAY;
    <span style="color:#75715e"># Optimisation.</span>
    $date <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Time::Piece&#39;</span><span style="color:#f92672">-&gt;</span>strptime(($date<span style="color:#f92672">-&gt;</span>year <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;-01-01&#39;</span>, <span style="color:#e6db74">&#39;%Y-%m-%d&#39;</span>)
        <span style="color:#66d9ef">if</span> reverse(int($date<span style="color:#f92672">-&gt;</span>year <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span>
        <span style="color:#f92672">||</span> reverse($date<span style="color:#f92672">-&gt;</span>year % 100) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>;
}
</code></pre></div><p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/02/perl-weekly-challenge-048-survivor-and-palindrome-dates.html">Survivor and Palindrome Dates</a></p>
<h2 id="ianrifkin2">Ian Rifkin</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/ianrifkin/perl/ch-2.pl">Ian Rifkin&rsquo;s solution</a> uses <a href="https://metacpan.org/pod/Date::Simple"><code>Date::Simple</code></a> to validate each date, one day at a time:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Date::Simple;
<span style="color:#66d9ef">my</span> $check_date <span style="color:#f92672">=</span> Date::Simple<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(<span style="color:#e6db74">&#39;2000-01-01&#39;</span>);
<span style="color:#66d9ef">my</span> $end_date <span style="color:#f92672">=</span> Date::Simple<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(<span style="color:#e6db74">&#39;2999-12-31&#39;</span>);
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;\nThe following dates from $check_date to $end_date are palindromes assuming the format mmddyyy:\n&#34;</span>;
<span style="color:#66d9ef">while</span> ($check_date <span style="color:#f92672">&lt;=</span> $end_date) {
    <span style="color:#66d9ef">my</span> $forwards <span style="color:#f92672">=</span> $check_date<span style="color:#f92672">-&gt;</span>format(<span style="color:#e6db74">&#39;%m%d%Y&#39;</span>);
    <span style="color:#66d9ef">my</span> $backwards <span style="color:#f92672">=</span> reverse $forwards;
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$forwards (&#34;</span> <span style="color:#f92672">.</span> $check_date<span style="color:#f92672">-&gt;</span>format(<span style="color:#e6db74">&#39;%m-%d-%Y&#39;</span>) <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;)\n&#34;</span> <span style="color:#66d9ef">if</span> $forwards <span style="color:#f92672">==</span> $backwards;
    $check_date<span style="color:#f92672">++</span>
}
</code></pre></div><h2 id="jaldhar-h-vyas2">Jaldhar H. Vyas</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/jaldhar-h-vyas/perl/ch-2.pl">Jaldhar H. Vyas&rsquo;s solution</a> uses a hard-coded list of reversed months to shorten the search space. He then uses a regex with named captures to make it easy to split out the month and day from the <code>reverse $year</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @years <span style="color:#f92672">=</span>
    grep {
        <span style="color:#e6db74">/ (?&lt;year&gt; \d\d) $ /gmx</span>;
        grep { $_ <span style="color:#f92672">==</span> $+{year}} (<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">60</span> , <span style="color:#ae81ff">70</span>, <span style="color:#ae81ff">80</span>, <span style="color:#ae81ff">90</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">21</span>)
    } (<span style="color:#ae81ff">2000</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">2999</span>);
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $year (@years) {
    (reverse $year) <span style="color:#f92672">=~</span><span style="color:#e6db74"> / \A (?&lt;month&gt; \d\d) (?&lt;day&gt; \d\d) \z /gmx</span>;
    <span style="color:#66d9ef">if</span> ($+{day} <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">23</span>) {
        say join <span style="color:#e6db74">q{/}</span>, ($+{month}, $+{day}, $year);
    }
}
</code></pre></div><h2 id="javier-luque2">Javier Luque</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/javier-luque/perl/ch-2.pl">Javier Luque&rsquo;s solution</a> is another using <code>Time::Piece</code>, iterating 86400 seconds at a time:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Time::Piece;
<span style="color:#66d9ef">use</span> Time::Seconds;
<span style="color:#66d9ef">use</span> feature <span style="color:#e6db74">qw /say/;
</span><span style="color:#e6db74">my </span>$current_date <span style="color:#f92672">=</span> Time::Piece<span style="color:#f92672">-&gt;</span>strptime(<span style="color:#e6db74">&#39;01-01-2000&#39;</span>, <span style="color:#e6db74">&#39;%m-%d-%Y&#39;</span>);
<span style="color:#66d9ef">my</span> $end_date     <span style="color:#f92672">=</span> Time::Piece<span style="color:#f92672">-&gt;</span>strptime(<span style="color:#e6db74">&#39;12-31-2999&#39;</span>, <span style="color:#e6db74">&#39;%m-%d-%Y&#39;</span>);
<span style="color:#66d9ef">while</span> ($current_date <span style="color:#f92672">&lt;</span> $end_date) {
    <span style="color:#66d9ef">my</span> $date_string <span style="color:#f92672">=</span> $current_date<span style="color:#f92672">-&gt;</span>strftime(<span style="color:#e6db74">&#39;%m%d%Y&#39;</span>);
    say $date_string <span style="color:#66d9ef">if</span> ($date_string <span style="color:#f92672">eq</span> reverse($date_string));
    $current_date <span style="color:#f92672">=</span> $current_date <span style="color:#f92672">+</span> ONE_DAY;
}
</code></pre></div><p><strong>Blog</strong> › <a href="https://perlchallenges.wordpress.com/2020/02/17/perl-weekly-challenge-048/">048 – Perl Weekly Challenge</a></p>
<h2 id="laurent-rosenfeld2">Laurent Rosenfeld</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/laurent-rosenfeld/perl/ch-2.pl">Laurent Rosenfeld&rsquo;s solution</a> iterates through the years, with a quick inline validation:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $year (<span style="color:#ae81ff">2000</span> <span style="color:#f92672">..</span> <span style="color:#ae81ff">2300</span>) {
    <span style="color:#66d9ef">my</span> ($month, $day) <span style="color:#f92672">=</span> (reverse $year) <span style="color:#f92672">=~</span><span style="color:#e6db74"> /(\d\d)(\d\d)/</span>;
    <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $month <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span> <span style="color:#f92672">or</span> $month <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">or</span> $day <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span> <span style="color:#f92672">or</span> $day <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span>;
    say <span style="color:#e6db74">&#34;$month/$day/$year is a palindromic date.&#34;</span>;
}
</code></pre></div><p><strong>Blog</strong> › <a href="http://blogs.perl.org/users/laurent_r/2020/02/perl-weekly-challenge-48-survivor-and-palindrome-dates.html">Survivor and Palindrome Dates</a></p>
<h2 id="lubos-kolouch2">Lubos Kolouch</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/lubos-kolouch/perl/ch-2.pl">Lubos Kolouch&rsquo;s solution</a> uses <code>DateTime</code> to iterate one day (<code>60 * 60 * 24</code> seconds) at a time, printing out anything that passes the <code>is_palindrome</code> test:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> DateTime;
<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">is_palindrome</span> {
    <span style="color:#66d9ef">my</span> $dt <span style="color:#f92672">=</span> shift;
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> $dt<span style="color:#f92672">-&gt;</span>mdy(<span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#f92672">eq</span> reverse $dt<span style="color:#f92672">-&gt;</span>mdy(<span style="color:#e6db74">&#39;&#39;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#66d9ef">my</span> $dt_start <span style="color:#f92672">=</span> DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>( year <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">2000</span>, month <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>, day <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> );
<span style="color:#66d9ef">my</span> $epoch_test <span style="color:#f92672">=</span> $dt_start<span style="color:#f92672">-&gt;</span>epoch;
<span style="color:#66d9ef">my</span> $dt_end <span style="color:#f92672">=</span> DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>( year <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">2999</span>, month <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">12</span>, day <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">31</span> );
<span style="color:#66d9ef">my</span> $epoch_end <span style="color:#f92672">=</span> $dt_end<span style="color:#f92672">-&gt;</span>epoch;
<span style="color:#66d9ef">while</span> ($epoch_test <span style="color:#f92672">&lt;</span> $epoch_end) {
    <span style="color:#66d9ef">my</span> $dt <span style="color:#f92672">=</span> DateTime<span style="color:#f92672">-&gt;</span>from_epoch( epoch <span style="color:#f92672">=&gt;</span> $epoch_test);
    say $dt<span style="color:#f92672">-&gt;</span>mdy <span style="color:#66d9ef">if</span> is_palindrome($dt);
    $epoch_test <span style="color:#f92672">+=</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">24</span>;
}
</code></pre></div><h2 id="mohammad-anwar2">Mohammad S Anwar</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/mohammad-anwar/perl/ch-2.pl">Mohammad S Anwar&rsquo;s solution</a> uses <a href="https://metacpan.org/pod/Date::Tiny"><code>Date::Tiny</code></a>, yet another contender in date/time modules I did not have installed before starting this review!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Date::Tiny;
<span style="color:#66d9ef">my</span> $date <span style="color:#f92672">=</span> Date::Tiny<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(year <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">2000</span>, month <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>, day <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">while</span> ($date<span style="color:#f92672">-&gt;</span>year <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2299</span>) {
    <span style="color:#66d9ef">my</span> $date_as_str <span style="color:#f92672">=</span> sprintf(<span style="color:#e6db74">&#34;%02d%02d%04d&#34;</span>, $date<span style="color:#f92672">-&gt;</span>month, $date<span style="color:#f92672">-&gt;</span>day, $date<span style="color:#f92672">-&gt;</span>year);
    <span style="color:#66d9ef">if</span> ($date_as_str <span style="color:#f92672">eq</span> reverse($date_as_str)) {
        <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$date_as_str is a Palindrome date.\n&#34;</span>;
    }
    <span style="color:#66d9ef">my</span> $datetime <span style="color:#f92672">=</span> $date<span style="color:#f92672">-&gt;</span>DateTime<span style="color:#f92672">-&gt;</span>add(days <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span>);
    $date <span style="color:#f92672">=</span> Date::Tiny<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(year <span style="color:#f92672">=&gt;</span> $datetime<span style="color:#f92672">-&gt;</span>year, month <span style="color:#f92672">=&gt;</span> $datetime<span style="color:#f92672">-&gt;</span>month, day <span style="color:#f92672">=&gt;</span> $datetime<span style="color:#f92672">-&gt;</span>day);
}
</code></pre></div><p>Mohammad&rsquo;s code iterates through one day at a time, checking for palindromes with <code>reverse</code>). The code takes 23 seconds to run on my system, but the results are correct.</p>
<p><strong>Blog</strong> › <a href="https://perlweeklychallenge.org/blog/my-first-date-with-raku">My first date with Raku</a></p>
<h2 id="peter-scott2">Peter Scott</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/peter-scott/perl/ch-2.pl">Peter Scott&rsquo;s solution</a> uses <code>DateTime</code> to advance day by day. Interestingly, Peter uses a regex with backrefs instead of <code>reverse</code> to check for palindromes.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">
<span style="color:#75715e">#!/usr/local/bin/perl</span>
<span style="color:#66d9ef">use</span> <span style="color:#ae81ff">5.016</span>;
<span style="color:#66d9ef">use</span> warnings;
<span style="color:#66d9ef">use</span> DateTime;
<span style="color:#66d9ef">my</span> $dt<span style="color:#f92672">=</span>DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(year<span style="color:#f92672">=&gt;</span><span style="color:#ae81ff">2000</span>, month<span style="color:#f92672">=&gt;</span><span style="color:#ae81ff">1</span>, day<span style="color:#f92672">=&gt;</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">my</span> $dt_end <span style="color:#f92672">=</span> DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(year<span style="color:#f92672">=&gt;</span><span style="color:#ae81ff">2999</span>,month<span style="color:#f92672">=&gt;</span><span style="color:#ae81ff">12</span>, day<span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">31</span>);
<span style="color:#66d9ef">while</span> ( DateTime<span style="color:#f92672">-&gt;</span>compare( $dt, $dt_end ) <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span> ) {
    local $_ <span style="color:#f92672">=</span> $dt<span style="color:#f92672">-&gt;</span>strftime(<span style="color:#e6db74">&#34;%m%d%Y&#34;</span>);
    <span style="color:#e6db74">/(\d)(\d)(\d)(\d)\4\3\2\1/</span> <span style="color:#f92672">and</span> say;
    $dt<span style="color:#f92672">-&gt;</span>add( days <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> );
}
</code></pre></div><p><code>DateTime</code> isn&rsquo;t a particularly fast library, which is why the runtime here is quite long at 57 seconds on my system.</p>
<h2 id="phillip-harris2">Phillip Harris</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/phillip-harris/perl/ch-2.pl">Phillip Harris&rsquo;s solution</a> has a 3-nested loop for every <code>$year</code>, <code>$month</code>, and <code>$day</code> within the range, using <a href="https://metacpan.org/pod/Date::Calc"><code>Date::Calc</code></a>&lsquo;s <code>check_date</code> function to validate the dates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Date::Calc <span style="color:#e6db74">qw(check_date)</span>;

$year  <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span>;
$month <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
$day   <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;

<span style="color:#66d9ef">for</span> ( $year <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span> ; $year <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">2999</span> ; $year<span style="color:#f92672">++</span> ) {
    <span style="color:#66d9ef">for</span> ( $month <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> ; $month <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">12</span> ; $month<span style="color:#f92672">++</span> ) {
        <span style="color:#66d9ef">for</span> ( $day <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> ; $day <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">31</span> ; $day<span style="color:#f92672">++</span> ) {
            $md <span style="color:#f92672">=</span> sprintf( <span style="color:#e6db74">&#34;%02d%02d&#34;</span>, $month, $day );
            <span style="color:#66d9ef">if</span> ( $md <span style="color:#f92672">eq</span> reverse($year) ) {
                <span style="color:#66d9ef">if</span> ( check_date( $year, $month, $day ) ) {
                    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$md$year\n&#34;</span>;
                }
            }
        }
    }
}
</code></pre></div><p><code>Date::Calc</code> is doing a lot less, so this solution runs in about 1/4 second on my system, underscoring the vast differences between libraries with differing design goals.</p>
<h2 id="roger-bell-west2">Roger Bell West</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/roger-bell-west/perl/ch-2.pl">Roger Bell West&rsquo;s solution</a> uses <code>strftime</code> from <code>POSIX</code>, along with some magic numbers for day numbers (days past the epoch, Jan 1, 1970):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> strict;
<span style="color:#66d9ef">use</span> warnings;
<span style="color:#66d9ef">use</span> POSIX <span style="color:#e6db74">qw(strftime)</span>;
<span style="color:#66d9ef">my</span> $format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%m%d%Y&#39;</span>;
<span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $d (<span style="color:#ae81ff">10957</span><span style="color:#f92672">..</span><span style="color:#ae81ff">376199</span>) {
  <span style="color:#66d9ef">my</span> $u<span style="color:#f92672">=</span>strftime($format,gmtime($d<span style="color:#f92672">*</span><span style="color:#ae81ff">86400</span>));
  <span style="color:#66d9ef">if</span> ((scalar reverse $u) <span style="color:#f92672">eq</span> $u) {
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$u\n&#34;</span>;
  }
}
</code></pre></div><h2 id="ruben-westerberg2">Ruben Westerberg</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/ruben-westerberg/perl/ch-2.pl">Ruben Westerberg&rsquo;s solution</a> uses the by-now familiar <code>Time::Piece</code> and <code>Time::Seconds</code> modules to iterate and check for palindromes:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Time::Piece;
<span style="color:#66d9ef">use</span> Time::Seconds;
<span style="color:#66d9ef">my</span> $s<span style="color:#f92672">=</span>Time::Piece<span style="color:#f92672">-&gt;</span>strptime(<span style="color:#e6db74">&#34;2000-01-01&#34;</span>,<span style="color:#e6db74">&#34;%Y-%M-%D&#34;</span>);
<span style="color:#66d9ef">my</span> $e<span style="color:#f92672">=</span>Time::Piece<span style="color:#f92672">-&gt;</span>strptime(<span style="color:#e6db74">&#34;2999-01-01&#34;</span>,<span style="color:#e6db74">&#34;%Y-%M-%D&#34;</span>);
<span style="color:#66d9ef">my</span> $d<span style="color:#f92672">=</span>$s;
<span style="color:#66d9ef">while</span> ($d <span style="color:#f92672">&lt;</span> $e) {
    <span style="color:#66d9ef">my</span> $str<span style="color:#f92672">=</span> $d<span style="color:#f92672">-&gt;</span>strftime(<span style="color:#e6db74">&#34;%m%d%Y&#34;</span>);
    <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Date is a palindrone: &#34;</span><span style="color:#f92672">.</span>$d<span style="color:#f92672">-&gt;</span>strftime<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;\n&#34;</span> <span style="color:#66d9ef">if</span> ($str <span style="color:#f92672">eq</span> reverse $str );
    $d<span style="color:#f92672">+=</span>ONE_DAY;
}
</code></pre></div><h2 id="ryan-thompson2">Ryan Thompson</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/ryan-thompson/perl/ch-2.pl">My solution</a> started with a bit of analysis, to figure out which months and days would come up. <a href="http://www.ry.ca/2020/02/palindrome-dates/">My blog</a> goes into the details, but the key points are:</p>
<ol>
<li>
<p>Because the date is the reverse of the century, which varies from 20..29, all dates must therefore end in 2. Thus, the date (<code>$dd</code>) can only be <code>02</code>, <code>12</code>, or <code>22</code>.</p>
</li>
<li>
<p>The 2-digit year (<code>$yy</code>) is also the reverse of the month, which must be 01..12. I assemble <code>@yy</code> so that the dates will be in sorted order.</p>
</li>
</ol>
<p>After this, I just need the cross product of <code>qw&lt;02 12 22&gt;</code> and <code>@yy</code>, so a simple nested loop will suffice:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @yy <span style="color:#f92672">=</span> sort map { chop <span style="color:#f92672">.</span> ($_<span style="color:#f92672">||</span><span style="color:#ae81ff">0</span>) } <span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">12</span>;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $dd (<span style="color:#e6db74">qw&lt;02 12 22&gt;</span>) {
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $yy (@yy) {
        printf <span style="color:#e6db74">&#34;%02d-%02d-%02d%02d\n&#34;</span>,
            scalar reverse($yy), $dd, scalar reverse($dd), $yy;
    }
}
</code></pre></div><p>Note that no validation is needed with this method! It runs in around 3ms, most of which is <code>perl</code> startup. <code>Benchmark</code> tells me it runs in 40μs if I change the <code>printf</code> to <code>sprintf</code>, as terminal output becomes a bottleneck.</p>
<p><strong>Blog</strong> › <a href="http://www.ry.ca/2020/02/palindrome-dates/">Palindrome Dates (mm/dd/yyyy)</a></p>
<h2 id="saiftynet2">Saif Ahmed</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/saiftynet/perl/ch-2.pl">Saif Ahmed&rsquo;s solution</a> is another that allows the user to choose their preferred date format, in this case <code>MDY</code>, <code>DMY</code>, or <code>YMD</code>.</p>
<p>Saif iterates over each year, and then uses <code>reverse</code> with <code>substr</code> to pull out the <code>$mm</code> and <code>$dd</code> from that, swapping them if the date format needs it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $yyyy (<span style="color:#ae81ff">2000</span><span style="color:#f92672">..</span><span style="color:#ae81ff">2999</span>){
   <span style="color:#66d9ef">my</span> $mm   <span style="color:#f92672">=</span>  reverse substr($yyyy,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>);
   <span style="color:#66d9ef">my</span> $dd   <span style="color:#f92672">=</span>  reverse substr($yyyy,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">2</span>);
   ($mm,$dd)<span style="color:#f92672">=</span>($dd,$mm) <span style="color:#66d9ef">if</span> $format <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;DMY&#34;</span>;    <span style="color:#75715e"># Swap if DDMMYYY required</span>
   <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> ($mm <span style="color:#f92672">&gt;</span><span style="color:#ae81ff">12</span> <span style="color:#f92672">or</span> $mm <span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>);               <span style="color:#75715e"># Discard invalid months</span>
   <span style="color:#66d9ef">if</span> ($mm <span style="color:#f92672">=~</span><span style="color:#e6db74">/02/</span>){                            <span style="color:#75715e"># February is special case</span>
       $notLeapYear<span style="color:#f92672">=</span>($y % 4)<span style="color:#f92672">||</span>(<span style="color:#f92672">!</span>($y%100)<span style="color:#f92672">&amp;&amp;</span>($y%400));
       <span style="color:#66d9ef">my</span> $FebDays<span style="color:#f92672">=</span>(<span style="color:#ae81ff">28</span><span style="color:#f92672">+</span>($notLeapYear?<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">1</span>))<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;&#34;</span>;
       <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> ($dd <span style="color:#f92672">gt</span> $FebDays <span style="color:#f92672">or</span> $dd <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;00&#34;</span>)
   }
   <span style="color:#66d9ef">elsif</span> ($mm<span style="color:#f92672">=~</span><span style="color:#e6db74">/^01|03|05|07|08|10|12/</span>){       <span style="color:#75715e"># months with 31 days</span>
       <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> ($dd <span style="color:#f92672">gt</span> <span style="color:#e6db74">&#34;31&#34;</span>     <span style="color:#f92672">or</span> $dd <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;00&#34;</span>);
   }
   <span style="color:#66d9ef">else</span>{                                       <span style="color:#75715e"># all the rest have 30 days</span>
       <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> ($dd <span style="color:#f92672">gt</span> <span style="color:#e6db74">&#34;30&#34;</span>     <span style="color:#f92672">or</span> $dd <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;00&#34;</span>);
  }
   <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;M $mm, D $dd, Y $yyyy :  $mm$dd$yyyy \n&#34;</span> <span style="color:#66d9ef">if</span> $format <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;MDY&#34;</span>;
   <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;D $dd, M $mm, Y $yyyy :  $dd$mm$yyyy \n&#34;</span> <span style="color:#66d9ef">if</span> $format <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;DMY&#34;</span>;
   <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;Y $yyyy, M $mm, D $dd :  $yyyy$mm$dd \n&#34;</span> <span style="color:#66d9ef">if</span> $format <span style="color:#f92672">eq</span> <span style="color:#e6db74">&#34;YMD&#34;</span>;
}
</code></pre></div><p>Saif then checks for the correct number of days in the month, and if the date passes all of those checks, it is printed in the requested format.</p>
<h2 id="southpawgeek2">Jen Guerra</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/southpawgeek/perl/ch-2.pl">Jen Guerra&rsquo;s solution</a> uses <code>Date::Calc</code>'s <code>check_date</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Date::Calc <span style="color:#e6db74">qw/check_date/</span>;
<span style="color:#66d9ef">my</span> $yyyy <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span>;
<span style="color:#66d9ef">my</span> $ymax <span style="color:#f92672">=</span> <span style="color:#ae81ff">3000</span>;
<span style="color:#66d9ef">while</span> ($yyyy <span style="color:#f92672">&lt;</span> $ymax) {
    <span style="color:#66d9ef">my</span> $mm <span style="color:#f92672">=</span> reverse(substr($yyyy, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>));
    $yyyy<span style="color:#f92672">++</span> <span style="color:#f92672">and</span> <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $mm <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>$mm;
    <span style="color:#66d9ef">my</span> $dd <span style="color:#f92672">=</span> reverse(substr($yyyy, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>));
    $yyyy<span style="color:#f92672">++</span> <span style="color:#f92672">and</span> <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> $dd <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>$dd;
    say <span style="color:#e6db74">&#34;$mm$dd$yyyy is a palindrome&#34;</span> <span style="color:#66d9ef">if</span> check_date($yyyy, $mm, $dd);
    $yyyy<span style="color:#f92672">++</span>;
}
</code></pre></div><p>Jen also uses <code>reverse</code> and <code>substr</code> to pull out the <code>$mm</code> and <code>$dd</code> components of the date, and prints out the palindromes that pass <code>check_date</code>. Even with the external validation, this solution runs in a mere 35ms.</p>
<h2 id="steven-wilson2">Steven Wilson</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/steven-wilson/perl/ch-2.pl">Steven Wilson&rsquo;s solution</a> uses <code>DateTime</code> to iterate through each year, pulling it apart to get the month and day. Steven wraps the <code>DateTime-&gt;new</code> call in an <code>eval</code> to catch invalid dates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> DateTime;
<span style="color:#66d9ef">my</span> $year <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span>;
<span style="color:#66d9ef">while</span> ( $year <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3000</span> ) {
    eval {
        <span style="color:#66d9ef">my</span> $dt <span style="color:#f92672">=</span> DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(
            year  <span style="color:#f92672">=&gt;</span> $year,
            month <span style="color:#f92672">=&gt;</span> substr( $year, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span> ) <span style="color:#f92672">.</span> ( substr $year, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span> ),
            day   <span style="color:#f92672">=&gt;</span> substr( $year, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span> ) <span style="color:#f92672">.</span> ( substr $year, <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">1</span> ),
        );
        <span style="color:#66d9ef">my</span> $reay <span style="color:#f92672">=</span> reverse $year;
        say <span style="color:#e6db74">&#34;$reay$year&#34;</span>;
    };
    $year<span style="color:#f92672">++</span>;
}
</code></pre></div><p>If <code>DateTime-&gt;new</code> dies, the <code>say</code> statement will not be reached, thus only palindromic dates will be printed.</p>
<h2 id="user-person2">User Person</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/user-person/perl/ch-2.pl">User Person&rsquo;s solution</a> did some analysis of their own to optimize their solution. I&rsquo;ve left the comments in, as they are more or less required reading:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#75715e">#  M   M   D   D  Y   Y   Y   Y</span>
<span style="color:#75715e"># [01][*][012][2][2][012][*][01]</span>
<span style="color:#75715e">#  $k $j  $i         $i  $j  $k</span>
<span style="color:#75715e">#</span>
<span style="color:#75715e"># $k - Months can only begin with 0 or 1.</span>
<span style="color:#75715e"># $j - The second months digit needs all numbers e.g. January 01 to October 10 (and of course beyond).</span>
<span style="color:#75715e"># $i - Days begin with 0,1,2,3, However all years begin with 2 so the cooresponding number</span>
<span style="color:#75715e"># means all days end in 2. 32 is not a valid day so the 3 is not needed.</span>
<span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; <span style="color:#f92672">++</span>$i ){
    <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $j <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; <span style="color:#f92672">++</span>$j ){
      EDGES:
        <span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">my</span> $k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; $k <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span>; <span style="color:#f92672">++</span>$k ){
            <span style="color:#66d9ef">if</span> (( $k <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">and</span> $j <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span> ) <span style="color:#f92672">or</span> ( $k <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> $j <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> )) { <span style="color:#75715e"># Months cannot be &gt; 12 or 00</span>
                <span style="color:#66d9ef">next</span> EDGES;
            }
            <span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;$k$j-${i}2-2$i$j$k\n&#34;</span>;
        }
    }
}
</code></pre></div><p>User Person&rsquo;s nested loops iterate over the 10s digit of the day (<code>$i</code>), 1s digit of the month (<code>$j</code>), and 10s digit of the month (<code>$k</code>). The <code>if</code> statement handles the bit of validation required.</p>
<h2 id="walt-mankowski2">Walt Mankowski</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/walt-mankowski/perl/ch-2.pl">Walt Mankowski&rsquo;s solution</a> uses <code>DateTime</code>, looping through each day to find the palindromes:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> DateTime;
<span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $year (<span style="color:#ae81ff">2000</span><span style="color:#f92672">..</span><span style="color:#ae81ff">2999</span>) {
    <span style="color:#66d9ef">my</span> $month <span style="color:#f92672">=</span> reverse(substr($year, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>));
    <span style="color:#66d9ef">if</span> ($month <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> $month <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">12</span>) {
        <span style="color:#66d9ef">my</span> $dt <span style="color:#f92672">=</span> DateTime<span style="color:#f92672">-&gt;</span><span style="color:#66d9ef">new</span>(year <span style="color:#f92672">=&gt;</span> $year, month <span style="color:#f92672">=&gt;</span> $month);
        <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $day (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span>$dt<span style="color:#f92672">-&gt;</span>month_length()) {
            <span style="color:#66d9ef">my</span> $date <span style="color:#f92672">=</span> sprintf(<span style="color:#e6db74">&#34;%02d%02d%d&#34;</span>, $month, $day, $year);
            say $date <span style="color:#66d9ef">if</span> $date <span style="color:#f92672">eq</span> reverse($date);
        }
    }
}
</code></pre></div><p>Using <code>month_length</code> method, this solution runs in just 175ms on my system, which is orders of magnitude faster than other <code>DateTime</code> solutions which iterate day by day like this one.</p>
<h2 id="wanderdoc2">Wanderdoc</h2>
<p><a href="https://github.com/manwar/perlweeklychallenge-club/blob/master/challenge-048/wanderdoc/perl/ch-2.pl">Wanderdoc&rsquo;s solution</a> is another example of <code>Time::Piece</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Time::Piece;
<span style="color:#66d9ef">use</span> Time::Seconds;
<span style="color:#66d9ef">my</span> $START <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;01.01.2000&#34;</span>;
<span style="color:#66d9ef">my</span> $STOP  <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;12.31.2999&#34;</span>;
<span style="color:#66d9ef">my</span> $INPUT_FORMAT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;%m.%d.%Y&#34;</span>;
<span style="color:#66d9ef">my</span> $t1 <span style="color:#f92672">=</span> Time::Piece<span style="color:#f92672">-&gt;</span>strptime($START, $INPUT_FORMAT);
<span style="color:#66d9ef">my</span> $t2 <span style="color:#f92672">=</span> Time::Piece<span style="color:#f92672">-&gt;</span>strptime($STOP , $INPUT_FORMAT);
<span style="color:#66d9ef">my</span> $counter;
<span style="color:#66d9ef">while</span> ( $t1 <span style="color:#f92672">&lt;=</span> $t2  ) {
     ((reverse $t1<span style="color:#f92672">-&gt;</span>yy) <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span> <span style="color:#f92672">and</span>
          $t1 <span style="color:#f92672">=</span> Time::Piece<span style="color:#f92672">-&gt;</span>strptime(<span style="color:#e6db74">&#34;12.31.&#34;</span> <span style="color:#f92672">.</span> $t1<span style="color:#f92672">-&gt;</span>year , $INPUT_FORMAT);
     <span style="color:#66d9ef">my</span> $output_mdy <span style="color:#f92672">=</span> $t1<span style="color:#f92672">-&gt;</span>mdy(<span style="color:#e6db74">&#39;&#39;</span>);
     <span style="color:#66d9ef">print</span> join(<span style="color:#e6db74">&#34;\t&#34;</span>, <span style="color:#f92672">++</span>$counter, $output_mdy), $/
          <span style="color:#66d9ef">if</span> $output_mdy <span style="color:#f92672">eq</span> reverse $output_mdy;
     $t1 <span style="color:#f92672">+=</span> ONE_DAY;
}
</code></pre></div><hr>
<hr>
<h2 id="blogs">See Also</h2>
<h3 id="blogs-this-week">Blogs this week:</h3>
<p><strong>E. Choroba</strong> › <a href="http://blogs.perl.org/users/e_choroba/2020/02/perl-weekly-challenge-048-survivor-and-palindrome-dates.html">Survivor and Palindrome Dates</a></p>
<p><strong>Javier Luque</strong> › <a href="https://perlchallenges.wordpress.com/2020/02/17/perl-weekly-challenge-048/">048 – Perl Weekly Challenge</a></p>
<p><strong>Laurent Rosenfeld</strong> › <a href="http://blogs.perl.org/users/laurent_r/2020/02/perl-weekly-challenge-48-survivor-and-palindrome-dates.html">Survivor and Palindrome Dates</a></p>
<p><strong>Mohammad S Anwar</strong> › <a href="https://perlweeklychallenge.org/blog/my-first-date-with-raku">My first date with Raku</a></p>
<p><strong>Ryan Thompson</strong> › <a href="http://www.ry.ca/2020/02/survivor-josepheus-problem/">Survivor (Josepheus problem)</a> | <a href="http://www.ry.ca/2020/02/palindrome-dates/">Palindrome Dates (mm/dd/yyyy)</a></p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        <script>document.write(new Date().getFullYear())</script>
                    </span> PerlWeeklyChallenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.nomtimes.co.uk/site/shop.do?cref=PerlBooks" title="Free Perl Books" target="_blank">
                            <img src="/images/NomTimes.jpg" style="width:22px; height: 18px;" alt=""/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://perlweeklychallenge.org/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://perlweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://perlweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/chart.js"></script>
<!-- wow js -->
<script src="https://perlweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://perlweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://perlweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-136524905-1', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>

