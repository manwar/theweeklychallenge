<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://perlweeklychallenge.org/"/>
    <meta property="og:image"       content="https://perlweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://perlweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Blog for the weekly challenge #060.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BLOG: The Weekly Challenge #060</title>
    <link rel="icon" href="https://perlweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://perlweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://perlweeklychallenge.org/css/main.css">
</head>

<body>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://perlweeklychallenge.org/">
                        <img src="https://perlweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://perlweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>BLOG: The Weekly Challenge #060</h2>
                    <div class="portfolio-meta">
                        <span>Saturday, May 16, 2020</span>|
                        <span> Tags:
                            Perl, Raku
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://perlweeklychallenge.org/images/blog/weekly-challenge-060.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <h1 id="headline">HEADLINE</h1>
<p>I am not sure about you guys but I found writing blog is very nice feeling. I get nice ideas to clean up the code. This week, I even found a bug that even unit test couldn&rsquo;t catch. I would rather not share it, quite embarassing. The bug was in my <strong>Perl</strong> solutions to the <strong>&ldquo;Find Numbers&rdquo;</strong> task. My git commit tree might disclose it, if you really want to know.</p>
<p>Back to the weekly challenges, I liked both tasks and I finished the <strong>Perl</strong> solutions to both task on day one i.e.<strong>Monday</strong> itself. Generally I go slow on <strong>Monday</strong> and <strong>Tuesday</strong> to recover from the weekend hangover, the most busiest time of the week because of <strong>Perl Weekly Challenge</strong> and <strong>Perl Weekly Newsletter</strong>. When I am editing the <strong>Perl Weekly Newsletter</strong> then it is double whammy for me. I am glad that I only edit alternate week. So I get a breather in between.</p>
<p>Once I am done with <strong>Perl</strong> solutions, I find myself little relax as I know I can easily get the <strong>Raku</strong> version quickly. Because of my fasting, I find it hard to do any coding during the day. After breaking the fast, I feel sleepy and take quick couple of hours of nap break. I then wake up midnight to perform night prayer and eat the <strong>Sehar</strong>. It is the time after morning prayer, I find myself full of energy. On saturday morning after prayer at <strong>3:20 am</strong>, I started preparing the ground for <strong>Raku</strong> solutions. By <strong>10:00 am</strong>, I had both the tasks done. Not a bad attempt. I did throw few questions when I was struck at one point. I will talk about it in detail later.</p>
<p>Since I started working from home, my daily routine has gone upside down. During the <strong>Ramadan</strong>, my office working hours is <strong>8:00 am</strong> to <strong>3:30 pm</strong> without lunch break, obviously. From <strong>3:30 pm</strong> to <strong>8:50 pm</strong> (time of breaking fast), is for me to perform regular prayer and relax. Sometimes I watch movie on <strong>Netflix</strong>. Couple of days ago, I watched <strong><a href="https://www.imdb.com/title/tt4703048/">6 Days</a></strong>, nice movie. Before that I watched <strong><a href="https://www.imdb.com/title/tt7493974/">Bodyguard</a></strong>. I am new to <strong>Netflix</strong> and therefore most of the movies are new to me.</p>
<p>Enough of my story, let me share my solutions to the <strong><a href="/blog/perl-weekly-challenge-060">Perl Weekly Challenge - 060</a></strong>.</p>
<hr>
<h2 id="task-1--excel-column">TASK #1 › Excel Column</h2>
<h4 id="reviewed-by-ryan-thompson">Reviewed by Ryan Thompson</h4>
<p>Write a script that accepts a number and returns the Excel Column Name it represents and vice-versa.</p>
<p>Excel columns start at A and increase lexicographically using the 26 letters of the English alphabet, A..Z. After Z, the columns pick up an extra “digit”, going from AA, AB, etc., which could (in theory) continue to an arbitrary number of digits. In practice, Excel sheets are limited to 16,384 columns.</p>
<hr>
<p>For this task, I was tempted to find a solution on <strong>CPAN</strong>. But then I changed my mind and decided to bring the kid inside me to do the hard way. It reminded me of my early days of learning <strong>Perl5</strong>, I think it was in the year <strong>1998</strong>. I kept the logic simple and easy to follow. I applied the pattern, I learnt during my college days when we were asked to convert <strong>Decimal</strong> to <strong>Binary</strong> and vice-versa.</p>
<p>I read some of the blogs by fellow <strong>Team PWC</strong> members, I don&rsquo;t remember who, talking about the complexity dealing with it. I didn&rsquo;t come across any during my investigation. May be, my solution has some hidden bugs that I am not aware of it. If you do come across please let me know.</p>
<p>During the initial draft, I decided to have two subroutines <strong>sub from_excel()</strong> and <strong>sub to_excel()</strong>. But then I changed my mind after completing the <strong>Raku</strong> solution for the same task where I just defined one <strong>sub excel-column()</strong>. It wasn&rsquo;t difficult to merge the two. Just added the parameter checking regex then everything was in place.</p>
<p>I would like to point out one mystery that I came across when trying to reverse the string i.e. <code>reverse(uc $arg)</code>. It wasn&rsquo;t giving me the expected result for some unknown reason. I had to do <code>scalar(reverse(uc $arg))</code> to get the desired result. It could be I am missing something very basic. Please do share with me if you know the reason.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">excel_column</span> {
    <span style="color:#66d9ef">my</span> ($arg) <span style="color:#f92672">=</span> @_;

    <span style="color:#66d9ef">if</span> ($arg <span style="color:#f92672">=~</span><span style="color:#e6db74"> /^\d+$/</span>) {
        <span style="color:#66d9ef">my</span> $name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
        <span style="color:#66d9ef">my</span> @name <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;A&#39;</span> <span style="color:#f92672">..</span> <span style="color:#e6db74">&#39;Z&#39;</span>);
        <span style="color:#66d9ef">while</span> ($arg <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">26</span>) {
            <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> int $arg <span style="color:#f92672">/</span> <span style="color:#ae81ff">26</span>;
            $name <span style="color:#f92672">.=</span> $name[$i];
            $arg  <span style="color:#f92672">-=</span> ($i <span style="color:#f92672">*</span> <span style="color:#ae81ff">26</span>);
        }
        $name <span style="color:#f92672">.=</span> $name[$arg];

        <span style="color:#66d9ef">return</span> $name;
    }
    <span style="color:#66d9ef">elsif</span> ($arg <span style="color:#f92672">=~</span><span style="color:#e6db74"> /^[A-Z]+$/i</span>) {
        <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">my</span> $b <span style="color:#f92672">=</span> <span style="color:#ae81ff">26</span>;
        <span style="color:#66d9ef">my</span> $d <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $c (split <span style="color:#e6db74">//</span>, scalar(reverse(uc $arg))) {
            $d <span style="color:#f92672">+=</span> (ord($c) <span style="color:#f92672">-</span> ord(<span style="color:#e6db74">&#34;A&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> ($b <span style="color:#f92672">**</span> $i<span style="color:#f92672">++</span>);
        }

        <span style="color:#66d9ef">return</span> $d;
    }
    <span style="color:#66d9ef">else</span> {
        die <span style="color:#e6db74">&#34;ERROR: Invalid column [$arg].\n&#34;</span>;
    }
}
</code></pre></div><p>Time to do some <strong>Raku</strong> magic, when I defined two subs for <strong>Perl</strong> solution, I thought I would use <code>multi sub</code> feature of <strong>Raku</strong>. It is one of my favourite features of <strong>Raku</strong>. So when I said <em>&ldquo;I defined one <strong>sub excel-column()</strong> earlier &hellip;&quot;</em>, techically I defined two with <code>multi sub</code>, so in a way it is cheating.</p>
<p>The benefit of having the solution ready, It is easier to think of <strong>Raku</strong> way of dealing with it. It didn&rsquo;t take long to convert the following line in <strong>Perl</strong>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $c (split <span style="color:#e6db74">//</span>, scalar(reverse(uc $arg))) {
</code></pre></div><p>to <strong>Raku</strong> equivalent like below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">for</span> $name<span style="color:#f92672">.</span>uc<span style="color:#f92672">.</span>flip<span style="color:#f92672">.</span>comb <span style="color:#f92672">-&gt;</span> $c {
</code></pre></div><p>Don&rsquo;t you think, it is beautiful?</p>
<p>I did this in my head, for a change. Normally I do hit and run process. When it works, I make a note of it for future.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">multi <span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">excel</span>-column(Str $name) {

    <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">my</span> $b <span style="color:#f92672">=</span> <span style="color:#ae81ff">26</span>;
    <span style="color:#66d9ef">my</span> $d <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

    <span style="color:#66d9ef">for</span> $name<span style="color:#f92672">.</span>uc<span style="color:#f92672">.</span>flip<span style="color:#f92672">.</span>comb <span style="color:#f92672">-&gt;</span> $c {
        $d <span style="color:#f92672">+=</span> ($c<span style="color:#f92672">.</span>ord <span style="color:#f92672">-</span> <span style="color:#e6db74">&#34;A&#34;</span><span style="color:#f92672">.</span>ord <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> ($b <span style="color:#f92672">**</span> $i<span style="color:#f92672">++</span>);
    }

    <span style="color:#66d9ef">return</span> $d;
}
</code></pre></div><p>Let us talk about the other half. Couple of things, I struggled here.</p>
<p>First, I tried to convert the following line in <strong>Perl</strong>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @name <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;A&#39;</span> <span style="color:#f92672">..</span> <span style="color:#e6db74">&#39;Z&#39;</span>);
</code></pre></div><p>I am sure, there are plenty of ways dealing with it in <strong>Raku</strong>. With my limited knowledge, I thought the same line would work in <strong>Raku</strong>. Guess what, like always, I was wrong.</p>
<p>When I did the same in <strong>Raku</strong>, the second element of <code>@name</code> had all the alphabets instead of one in each cell. So I decided to take the shortcut, I know it is not nice but does the job. If you know better way then please do let me know.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">my</span> @name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">..</span><span style="color:#e6db74">&#39;Z&#39;</span>;
@name<span style="color:#f92672">.</span>unshift(<span style="color:#ae81ff">0</span>);
</code></pre></div><p>The second hurdle I faced when trying to convert the following line in <strong>Perl</strong>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> int $arg <span style="color:#f92672">/</span> <span style="color:#ae81ff">26</span>;
</code></pre></div><p>Again, I thought the same line would work in <strong>Raku</strong>. I was wrong once again. Looked around documentation and I found this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> $number div <span style="color:#ae81ff">26</span>;
</code></pre></div><p>Is it correct way of dealing with it?</p>
<p>Rest of the solution was simple straight forward.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6">multi <span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">excel</span>-column(Int $number is copy) {

    <span style="color:#66d9ef">my</span> $name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
    <span style="color:#66d9ef">my</span> @name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">..</span><span style="color:#e6db74">&#39;Z&#39;</span>;
    @name<span style="color:#f92672">.</span>unshift(<span style="color:#ae81ff">0</span>);

    <span style="color:#66d9ef">while</span> $number <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">26</span> {
        <span style="color:#66d9ef">my</span> $i <span style="color:#f92672">=</span> $number div <span style="color:#ae81ff">26</span>;
        $name   <span style="color:#f92672">~=</span> @name[$i];
        $number <span style="color:#f92672">-=</span> $i <span style="color:#f92672">*</span> <span style="color:#ae81ff">26</span>;
    }
    $name <span style="color:#f92672">~=</span> @name[$number];

    <span style="color:#66d9ef">return</span> $name;
}
</code></pre></div><p>After doing all the hard work, the end result becomes a matter of few lines.</p>
<p>Don&rsquo;t you love thin wrapper?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> $arg <span style="color:#f92672">=</span> $ARGV[<span style="color:#ae81ff">0</span>];
die <span style="color:#e6db74">&#34;ERROR: Please provide parameter e.g. AA or 27.\n&#34;</span>
    <span style="color:#66d9ef">unless</span> defined $arg;

<span style="color:#66d9ef">print</span> sprintf(<span style="color:#e6db74">&#34;%s =&gt; %s\n&#34;</span>, $arg, excel_column($arg));
</code></pre></div><p><strong>Raku</strong> with <code>multi sub MAIN()</code> is elegant as well.</p>
<p>I also love the <code>&lt;cond&gt; ?? &lt;exp&gt; !! &lt;exp&gt;</code> construct. I use it whenever I get the opportunity.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">use</span> v6<span style="color:#f92672">.</span>d;

multi <span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">MAIN</span>(*@) is hidden-from-USAGE {
    say $<span style="color:#960050;background-color:#1e0010">*</span>USAGE;
}

multi <span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">MAIN</span>(Str :$name?, Int :$number?) {
    die <span style="color:#e6db74">&#34;ERROR: Missing --name=&lt;Str&gt; or --number=&lt;Int&gt;.\n&#34;</span>
        <span style="color:#66d9ef">unless</span> defined $name <span style="color:#f92672">or</span> defined $number;

    defined $name
    ??
    say sprintf(<span style="color:#e6db74">&#34;%s =&gt; %s&#34;</span>, $name, excel<span style="color:#f92672">-</span>column($name))
    <span style="color:#f92672">!!</span>
    say sprintf(<span style="color:#e6db74">&#34;%s =&gt; %s&#34;</span>, $number, excel<span style="color:#f92672">-</span>column($number<span style="color:#f92672">.</span>Int));
}
</code></pre></div><p>The benefit of having just one <strong>sub excel_column</strong>, the unit test code looks cleaner.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Test::More;

is (excel_column(<span style="color:#e6db74">&#34;Z&#34;</span>),  <span style="color:#ae81ff">26</span>,  <span style="color:#e6db74">&#34;Z  =&gt; 26&#34;</span>);
is (excel_column(<span style="color:#e6db74">&#34;AB&#34;</span>), <span style="color:#ae81ff">28</span>,  <span style="color:#e6db74">&#34;AB =&gt; 28&#34;</span>);
is (excel_column(<span style="color:#ae81ff">28</span>),  <span style="color:#e6db74">&#34;AB&#34;</span>, <span style="color:#e6db74">&#34;28 =&gt; AB&#34;</span>);

done_testing;
</code></pre></div><p>The same applied to <strong>Raku</strong> as well. They both look so identical. I am amazed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">use</span> Test;

is excel<span style="color:#f92672">-</span>column(<span style="color:#e6db74">&#39;Z&#39;</span>),  <span style="color:#ae81ff">26</span>, <span style="color:#e6db74">&#39;Z  =&gt; 26&#39;</span>;
is excel<span style="color:#f92672">-</span>column(<span style="color:#e6db74">&#39;AB&#39;</span>), <span style="color:#ae81ff">28</span>, <span style="color:#e6db74">&#39;AB =&gt; 28&#39;</span>;
is excel<span style="color:#f92672">-</span>column(<span style="color:#ae81ff">28</span>), <span style="color:#e6db74">&#39;AB&#39;</span>, <span style="color:#e6db74">&#39;28 =&gt; AB&#39;</span>;

done<span style="color:#f92672">-</span>testing;
</code></pre></div><hr>
<h2 id="task-2--find-numbers">TASK #2 › Find Numbers</h2>
<h4 id="reviewed-by-ryan-thompson-1">Reviewed by Ryan Thompson</h4>
<hr>
<p>Write a script that accepts list of positive numbers (@L) and two positive numbers $X and $Y.</p>
<p>The script should print all possible numbers made by concatenating the numbers from @L, whose length is exactly $X but value is less than $Y.</p>
<hr>
<p>For this task, once again, I took the help from <strong>CPAN</strong> module <code>Algorithm::Combinatorics</code>. But this time I used <code>sub variations_with_repetition()</code> because we wanted variations with repetition. After that there wasn&rsquo;t anything left to do, to be honest.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Algorithm::Combinatorics <span style="color:#e6db74">qw(variations_with_repetition)</span>;

<span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">find_numbers</span> {
    <span style="color:#66d9ef">my</span> ($n, $x, $y) <span style="color:#f92672">=</span> @_;

    <span style="color:#66d9ef">my</span> @numbers <span style="color:#f92672">=</span> ();
    <span style="color:#66d9ef">foreach</span> <span style="color:#66d9ef">my</span> $number (variations_with_repetition($n, $x)) {
        $number <span style="color:#f92672">=</span> join(<span style="color:#e6db74">&#34;&#34;</span>, @$number) <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">unless</span> ((length($number) <span style="color:#f92672">==</span> $x) <span style="color:#f92672">&amp;&amp;</span> ($number <span style="color:#f92672">&lt;</span> $y));
        push @numbers, $number;
    }

    <span style="color:#66d9ef">return</span> @numbers;
}
</code></pre></div><p>But for <strong>Raku</strong>, I was not aware of any such module. So I decided to get my hand dirty and in the process learnt few tricks. Not a bad choice.</p>
<p>First I tried <code>@numbers.combinations(2)</code> which didn&rsquo;t give me the expected pairs:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#f92672">&gt;</span> say <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">&gt;.</span>combinations(<span style="color:#ae81ff">2</span>);
((<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">5</span>) (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">5</span>) (<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span>))
<span style="color:#f92672">&gt;</span>
</code></pre></div><p>I was specially interested in pairs like <code>(1 1) (2 2) (3 3)</code>.</p>
<p>Once again after trying all the tricks from my notes, I wasn&rsquo;t going anywhere. So I decided to throw the questions at the <code>@PerlWChallenge</code> twitter handle. While I was waiting for the response, I kept trying few things.</p>
<p>Then suddenly it clicked and got the solution.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#f92672">&gt;</span> say <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">&gt;</span> X <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">&gt;</span>;
((<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>) (<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">5</span>) (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0</span>) (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">5</span>) (<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">0</span>) (<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span>) (<span style="color:#ae81ff">5</span> <span style="color:#ae81ff">0</span>) (<span style="color:#ae81ff">5</span> <span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">5</span> <span style="color:#ae81ff">2</span>) (<span style="color:#ae81ff">5</span> <span style="color:#ae81ff">5</span>))
<span style="color:#f92672">&gt;</span>
</code></pre></div><p>I did receive different solutions from the <strong>experts</strong> but I liked mine. It is simple and easy to remember.</p>
<p>The next challenge was to join both integers from the pair and deal with pair having <code>0</code> as first integer.</p>
<p>To join the pair elements, my note came handy this time.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">my</span> $number <span style="color:#f92672">=</span> [<span style="color:#f92672">~</span>] @x;
</code></pre></div><p>To get rid of <code>0</code>, I simply used the trick from <strong>Perl</strong>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">my</span> $number <span style="color:#f92672">=</span> ([<span style="color:#f92672">~</span>] @x) <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>;
</code></pre></div><p>Rest of the code was nothing new to me.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">find</span>-numbers(@n, $x, $y) {

    <span style="color:#66d9ef">my</span> @numbers <span style="color:#f92672">=</span> ();
    <span style="color:#66d9ef">for</span> @n X @n <span style="color:#f92672">-&gt;</span> @x {
        <span style="color:#66d9ef">my</span> $number <span style="color:#f92672">=</span> ([<span style="color:#f92672">~</span>] @x) <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">unless</span> $number<span style="color:#f92672">.</span>chars <span style="color:#f92672">==</span> $x <span style="color:#f92672">&amp;&amp;</span> $number <span style="color:#f92672">&lt;</span> $y;
        @numbers<span style="color:#f92672">.</span>push: $number;
    }

    <span style="color:#66d9ef">return</span> @numbers;
}
</code></pre></div><p>Now the fun part, creating standalone app becomes piece of cake.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">my</span> @numbers <span style="color:#f92672">=</span> find_numbers([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>], <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">21</span>);
<span style="color:#66d9ef">print</span> join(<span style="color:#e6db74">&#34;, &#34;</span>, @numbers), <span style="color:#e6db74">&#34;\n&#34;</span>;
</code></pre></div><p><strong>Raku</strong> solution has some default parameters and type checking for fun.</p>
<p>Other than that, it is pretty straight forward.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">MAIN</span>(:@n where .all ~~ Int = &lt;0 1 2 5&gt;, Int :$x = 2, Int :$y = 21) {

    <span style="color:#66d9ef">my</span> @numbers <span style="color:#f92672">=</span> find<span style="color:#f92672">-</span>numbers(@n, $x, $y);
    say @numbers<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#34;, &#34;</span>);
}
</code></pre></div><p>To make it complete solution, here is basic unit test. Nothing great.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">use</span> Test::More;

<span style="color:#66d9ef">my</span> @numbers <span style="color:#f92672">=</span> find_numbers([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>], <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">21</span>);
is (join(<span style="color:#e6db74">&#34;, &#34;</span>, @numbers), <span style="color:#e6db74">&#34;10, 11, 12, 15, 20&#34;</span>);

done_testing;
</code></pre></div><p><strong>Raku</strong> is even slimmer as always.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl6" data-lang="perl6"><span style="color:#66d9ef">use</span> Test;

is<span style="color:#f92672">-</span>deeply find<span style="color:#f92672">-</span>numbers(<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">&gt;</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">21</span>), [<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">20</span>];

done<span style="color:#f92672">-</span>testing;
</code></pre></div><hr>
<p>That&rsquo;s it for this week. Speak to you soon.</p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2020
                    </span> PerlWeeklyChallenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.nomtimes.co.uk/site/shop.do?cref=PerlBooks" title="Free Perl Books" rel="noreferrer" target="_blank">
                            <img src="/images/NomTimes.jpg" style="width:22px; height: 18px;" alt=""/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://perlweeklychallenge.org/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://perlweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://perlweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://perlweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://perlweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://perlweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://perlweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://perlweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://perlweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://perlweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-136524905-1', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>

