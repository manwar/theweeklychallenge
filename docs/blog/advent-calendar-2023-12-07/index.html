<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
    <!-- Basic Page Needs -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title"       content="The Weekly Challenge - Perl & Raku"/>
    <meta property="og:type"        content="website"/>
    <meta property="og:url"         content="https://theweeklychallenge.org/"/>
    <meta property="og:image"       content="https://theweeklychallenge.org/images/about/about.jpg"/>
    <meta property="og:description" content="You do not have to be an expert."/>
    <meta name="twitter:card"       content="summary" />
    <meta name="twitter:image"      content="https://theweeklychallenge.org/images/about/about.jpg"/>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="description" content="Advent Calendar - December 7, 2023.">
    <meta name="author" content="The Weekly Challenge Team">
    <meta name="generator" content="Hugo 0.67.0-DEV" />

    <!-- Mobile Specific Metas -->
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advent Calendar - December 7, 2023</title>
    <link rel="icon" href="https://theweeklychallenge.org/images/favicon.ico">

    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>

    <!-- Twitter Bootstrs CSS -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.css">
    <!-- Ionicons Fonts Css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/ionicons/ionicons.min.css">
    <!-- animate css -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/animate-css/animate.css">
    <!-- Hero area slider css-->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slider/slider.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/slick/slick.css">
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.css">
    <!-- hover -->
    <link rel="stylesheet" href="https://theweeklychallenge.org/plugins/hover/hover-min.css">
    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source Code Pro' rel='stylesheet'>
    <!-- template main css file -->
    
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/style.min.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://theweeklychallenge.org/css/main.css">

    <style>
        #goTopButton {
            display: none;          
            position: fixed;        
            bottom: 20px;           
            right: 30px;            
            z-index: 99;            
            border: none;           
            outline: none;          
            background-color: red;  
            color: white;           
            cursor: pointer;        
            padding: 15px;          
            border-radius: 10px;    
            font-size: 18px;        
        }

        #goTopButton:hover {
              background-color: #555;
        }
    </style>


</head>

<body>

<button onclick="goTop()" id="goTopButton" title="Go to top">Top</button>

<script>

    topButton = document.getElementById("goTopButton");

    
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 40 || document.documentElement.scrollTop > 40) {
            topButton.style.display = "block";
        } else {
            topButton.style.display = "none";
        }
    }

    
    function goTop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }

</script>

<section class="top-bar animated-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="https://theweeklychallenge.org/">
                        <img src="https://theweeklychallenge.org/images/logo.svg" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navgation" aria-controls="navigation"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/about">About</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/chart">Chart</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/champions">Champions</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/team">Team</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/challenges">Challenges</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p5-reviews">Perl/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/p6-reviews">Raku/Review</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/recaps">Recaps</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/blogs">Blogs</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/faq">FAQ</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://theweeklychallenge.org/contact">Contact</a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section>


<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Advent Calendar - December 7, 2023</h2>
                    <div class="portfolio-meta">
                        <span>Thursday, Dec 7, 2023</span>|
                        <span> Tags:
                            Perl
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div style="text-align: center" class="post-img">
                    <img class="img-fluid" alt="" src="https://theweeklychallenge.org/images/blog/2023-12-07.jpg">
                </div>
                
                <div style="text-align: justify" class="post-content">
                    <h2 id="advent-calendar-2023blogadvent-calendar-2023"><a href="/blog/advent-calendar-2023"><strong>Advent Calendar 2023</strong></a></h2>
<h3 id="-nbsp-day-6blogadvent-calendar-2023-12-06-nbsp--nbsp-day-7-nbsp--nbsp-day-8blogadvent-calendar-2023-12-08-nbsp-">|   <a href="/blog/advent-calendar-2023-12-06"><strong>Day 6</strong></a>   |   <strong>Day 7</strong>   |   <a href="/blog/advent-calendar-2023-12-08"><strong>Day 8</strong></a>   |</h3>
<hr>
<p>The gift is presented by <code>Matthias Muth</code>. Today he is talking about his solution to <a href="/blog/perl-weekly-challenge-213"><strong>The Weekly Challenge - 213</strong></a>. This is re-produced for <code>Advent Calendar 2023</code> from the original <a href="https://github.com/MatthiasMuth/perlweeklychallenge-club/tree/muthm-213/challenge-213/matthias-muth#readme"><strong>post</strong></a>.</p>
<hr>
<br>
<h2 id="task-1-fun-sort">Task 1: Fun Sort</h2>
<hr>
<pre><code>You are given a list of positive integers.
Write a script to sort the all even integers first then all odds in ascending order.
</code></pre>
<br>
<p>Ok, let&rsquo;s see! A typical approach would be to split up the list of integers into all even ones and all odd ones, then sort both lists separately, and then concatenate them back together.</p>
<p>Absolutely ok!</p>
<p>But way below what <code>Perl</code>'s sort can do for us!</p>
<p>Why don&rsquo;t we use sort as it is supposed to be?</p>
<p>It is defined as</p>
<br>
<pre><code>sort BLOCK LIST
</code></pre>
<br>
<p>and <code>BLOCK</code> is a comparison that decides which of two values goes first in the result.</p>
<p>For us here, we know that all even numbers go before all odd numbers.</p>
<p>To determine whether the number is <code>even</code> or <code>odd</code>, we can use the modulo operator, <code>%</code>. We just check whether the number modulo 2 is 0 (<code>even</code>) or 1 (<code>odd</code>).</p>
<p>For determining the sort order, using <code>Perl</code>'s number comparison operator <code>&lt;=&gt;</code> is our best choice.</p>
<p>Combining these two, we get the first part of our comparison for sort:</p>
<br>
<pre><code>$a % 2 &lt;=&gt; $b % 2
</code></pre>
<br>
<p>That&rsquo;s all we need to make all even numbers <code>'go left'</code>, and all odd numbers <code>'go right'</code>.</p>
<p>If both numbers are <code>even</code>, or both are <code>odd</code>, the <code>&lt;=&gt;</code> operator returns zero. For that case, we append the standard numeric comparison to define the order within all even (or all odd) numbers:</p>
<br>
<pre><code> $a % 2 &lt;=&gt; $b % 2 || $a &lt;=&gt; $b
</code></pre>
<br>
<p>Thus, a quite short, but complete solution for this challenge can look like this:</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">fun_sort</span> {
    sort { $a % 2 <span style="color:#e6db74">&lt;=&gt;</span> $b % 2 <span style="color:#f92672">||</span> $a <span style="color:#e6db74">&lt;=&gt;</span> $b } @_;
}
</code></pre></div><br>
<p>I don&rsquo;t think there will be a much more efficient way of solving this!</p>
<br>
<h2 id="task-2-shortest-route">Task 2: Shortest Route</h2>
<hr>
<pre><code>You are given a list of bidirectional routes defining a network of nodes, as well as source and destination node numbers.
Write a script to find the route from source to destination that passes through fewest nodes.
</code></pre>
<br>
<p>Finding the shortest route, ok&hellip;</p>
<p>So probably we need to implement a <code>Broadth-First-Search</code> algorithm to find our solution.</p>
<p>But maybe the examples are so simple that we don&rsquo;t need that!</p>
<p>Sorry, but it doesn&rsquo;t look like that. :-(</p>
<p>Ok, then let&rsquo;s set it up for real!</p>
<br>
<h3 id="part-1-preparing-the-data">Part 1: Preparing the data.</h3>
<hr>
<p>We have segments of roads, with numbers defining nodes on those segments.</p>
<p>If we ever want to follow a road from one node to the next one, we need to know which nodes are the neighbors of all nodes.</p>
<p>So first thing, we collect all neighbor connections.</p>
<p>We may have neighbors from several route sections, if sections meed at one node. So we don&rsquo;t need a <code>'left'</code> and <code>'right'</code> neighbor only, but we need to generalize to have any number of neighbors for any given node.</p>
<p>For me, that means that we need an array for each node, independent of any segments, in which we collect all neighbors.</p>
<p>We loop over all nodes in all segments, and gather the node&rsquo;s <code>left</code> and <code>right</code> neighbors from that segment, checking that we do not access any non-existing neighbors beyond either end of the segment. If a node is contained in more than one segment, its neighbors from there will be added in a later iteration, too.</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl"><span style="color:#66d9ef">sub</span> <span style="color:#a6e22e">shortest_route</span> {
    <span style="color:#66d9ef">my</span> ( $routes, $source, $destination ) <span style="color:#f92672">=</span> @_;

    <span style="color:#66d9ef">my</span> %neighbors;
    <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">my</span> $segment ( @$routes ) {
        <span style="color:#66d9ef">for</span> ( <span style="color:#ae81ff">0</span><span style="color:#f92672">..</span>$#$segment ) {
            push @{$neighbors{$segment<span style="color:#f92672">-&gt;</span>[$_]}},
                $_ <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>          ? $segment<span style="color:#f92672">-&gt;</span>[$_<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] : (),
                $_ <span style="color:#f92672">&lt;</span> $#$segment ? $segment<span style="color:#f92672">-&gt;</span>[$_<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] : ();
        }
    }
</code></pre></div><br>
<p>As you see, instead of using multiple if statements, in this case I prefer conditional expressions that evaluate to an empty list () if the condition does not match.</p>
<br>
<h3 id="part-2-the-bfs">Part 2: The BFS.</h3>
<hr>
<p>Now, as for any real BFS, we need a stack. In our case, the stack entries will contain complete paths that we will want to check for whether they solve our puzzle.</p>
<p>Each entry is an anonymous array with a list of nodes to travel.</p>
<p>We initialize the stack with a route containing the start node only.</p>
<p>We also need a hash for remembering which nodes we have already visited while we keep adding more routes to test on the stack. If not, we will find ourselves moving back and forth between nodes endlessly.</p>
<p>Within the loop, we check route in the first stack entry (<code>first in, first out</code>, for a <code>BFS</code>) for whether it leads us to the destination node. If yes, we are done.</p>
<p>If not, we add one stack entry for each of the last node&rsquo;s neighbors, adding each neighbor to the route that we just checked. We make sure to only add neighbors if they were not visited before. And we mark those neighbors as visited, for future iterations.</p>
<p>If we run out of entries on the stack without having found any route, we return the failure marker that is demanded for that case.</p>
<p>So all in all, it might look like this:</p>
<br>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-perl" data-lang="perl">    <span style="color:#66d9ef">my</span> @stack <span style="color:#f92672">=</span> ( [ $source ] );
    <span style="color:#66d9ef">my</span> %visited <span style="color:#f92672">=</span> ( $source <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1</span> );
    <span style="color:#66d9ef">while</span> ( @stack ) {
        <span style="color:#66d9ef">my</span> $path <span style="color:#f92672">=</span> pop @stack;
        <span style="color:#66d9ef">my</span> $last_node <span style="color:#f92672">=</span> $path<span style="color:#f92672">-&gt;</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
        <span style="color:#66d9ef">return</span> $path
            <span style="color:#66d9ef">if</span> $last_node <span style="color:#f92672">==</span> $destination;
        <span style="color:#66d9ef">if</span> ( $neighbors{$last_node} ) {
            <span style="color:#66d9ef">for</span> ( @{$neighbors{$last_node}} ) {
                <span style="color:#66d9ef">unless</span> ( $visited{$_} ) {
                    push @stack, [ @$path, $_ ];
                    $visited{$_} <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
                }
            }
        }
    }
    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
}
</code></pre></div><br>
<p>All in all, less complicated than I expected it to be in the beginning!</p>
<h3 id="thank-you-for-the-challenge">Thank you for the challenge!</h3>
<hr>
<p>If you have any suggestion then please do share with us <a href="mailto:perlweeklychallenge@yahoo.com">perlweeklychallenge@yahoo.com</a>.</p>
<p>|   <a href="/blog/advent-calendar-2023"><strong>Advent Calendar 2023</strong></a>   |</p>

                </div>
            </div>
        </div>
    </div>
</section>


<!-- Call To Action Section Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2 class="title wow fadeInDown" data-wow-delay=".3s" data-wow-duration="500ms">SO WHAT DO YOU THINK ?</h2>
                    <p class="wow fadeInDown" data-wow-delay=".5s" data-wow-duration="500ms">If you have any suggestions or ideas then please do share with us.</p>
                    <a href="/contact" class="btn btn-default btn-contact wow fadeInDown" data-wow-delay=".7s" data-wow-duration="500ms">Contact with me</a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Call To Action Section End -->



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright:
                    <span>
                        2019 - 2023
                    </span> The Weekly Challenge. Theme Design and Developed by
                    <a href="http://www.Themefisher.com" rel="noreferrer" rel="noreferrer" target="_blank">Themefisher</a>.
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    <li>
                        <a href="https://twitter.com/PerlWChallenge" class="twitter" rel="noreferrer" target="_blank" title="Follow us">
                            <i class="ion-social-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="/rss.xml" class="rss" target="_blank" title="RSS Feed">
                            <i class="ion-social-rss"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.nomtimes.co.uk/site/shop.do?cref=PerlBooks" title="Free Perl Books" rel="noreferrer" target="_blank">
                            <img src="/images/NomTimes.jpg" style="width:22px; height: 18px;" alt=""/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://theweeklychallenge.org/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.form.min.js"></script>
<script src="https://theweeklychallenge.org/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://theweeklychallenge.org/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://theweeklychallenge.org/plugins/bootstrap/bootstrap.min.js"></script>
<!-- chart js -->
<script src="https://theweeklychallenge.org/plugins/chart/highstock.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/drilldown.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/data.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/chart.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/pwc-challenge.js"></script>
<script src="https://theweeklychallenge.org/plugins/chart/gc-challenge.js"></script>
<!-- wow js -->
<script src="https://theweeklychallenge.org/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://theweeklychallenge.org/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://theweeklychallenge.org/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://theweeklychallenge.org/js/script.min.js"></script>
<!-- google analitycs -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CJTPYM9SB8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CJTPYM9SB8');
</script>
</body>

</html>

